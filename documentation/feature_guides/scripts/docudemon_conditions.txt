Triggers, conditions and events
===============================

Triggers are data objects consisting of an event on which to test, a number of
conditions, and a list of effects.  These effects can be upon character traits
or upon advice, although this could easily be extended to other domains of
activity such as the world, the empire, diplomacy &c.

The triggers themselves are not encoded in the project - they are read in from
an external file and instantiations of triggers are stored in an array indexed
by their event.

If you wish to add new triggers, consult the list of extant triggers and see if
you are merely redefining a trigger that already exists.  You can do this by
examining the advice and VnV spreadsheets.  If you are satisfied that this is
indeed a new trigger, ask yourself when the trigger should be tested, and under
what conditions the trigger should fire.  If either the condition or the event
is unavailable, request that they be added to the set.

Conditions which take no logic_token in their parameter list can be negated by
prepending them with not, e.g. not WonBattle

The events are in events.txt.  This document contains the current set of
conditions.  They are:

---------------------------------------------------
Identifier:              I_InBattle
Trigger requirements:    
Parameters:              None
Sample use:              InBattle
Description:             Are we in battle?
Battle or Strat:         Either
Class:                   IN_BATTLE
Implemented:             Yes
---------------------------------------------------
Identifier:              WonBattle
Trigger requirements:    character_record
Parameters:              None
Sample use:              WonBattle
Description:             Did the general win the battle just fought?
Battle or Strat:         Either
Class:                   WON_BATTLE
Implemented:             Yes
---------------------------------------------------
Identifier:              I_WonBattle
Trigger requirements:    
Parameters:              None
Sample use:              I_WonBattle romans_julii
Description:             Did the faction win the battle just fought?
Battle or Strat:         Either
Class:                   I_WON_BATTLE
Implemented:             No
---------------------------------------------------
Identifier:              Routs
Trigger requirements:    character_record
Parameters:              None
Sample use:              Routs
Description:             Did the general's unit rout in the battle just fought?
Battle or Strat:         Either
Class:                   ROUTS
Implemented:             Yes
---------------------------------------------------
Identifier:              Ally_Routs
Trigger requirements:    character_record
Parameters:              None
Sample use:              Ally_Routs
Description:             Did any ally's general's units rout in the battle just fought?
Battle or Strat:         Either
Class:                   ALLY_ROUTS
Implemented:             Yes
---------------------------------------------------
Identifier:              GeneralHPLostRatioinBattle
Trigger requirements:    character_record
Parameters:              logic token, test value
Sample use:              GeneralHPLostRatioinBattle > 35.8
Description:             Test to see what the HP lost ratio of the prior battle was
Battle or Strat:         Either
Class:                   GENERALS_LOST_HP_RATIO_TEST
Implemented:             Yes
---------------------------------------------------
Identifier:              GeneralNumKillsInBattle
Trigger requirements:    character_record
Parameters:              logic token, test value
Sample use:              GeneralNumKillsInBattle > 4
Description:             Test to see how many kills the character scored in the prior battle was
Battle or Strat:         Either
Class:                   GENERAL_ENEMIES_KILLED_TEST
Implemented:             Yes
---------------------------------------------------
Identifier:              GeneralFoughtInCombat
Trigger requirements:    character_record
Parameters:              None
Sample use:              GeneralFoughtInCombat
Description:             Test to see if the character entered combat in the prior battle
Battle or Strat:         Either
Class:                   GENERAL_FOUGHT_IN_COMBAT
Implemented:             Yes
---------------------------------------------------
Identifier:              PercentageOfArmyKilled
Trigger requirements:    character_record
Parameters:              logic token, test value
Sample use:              PercentageOfArmyKilled > 35.8
Description:             Test to see what percentage of their men they lost in the prior battle
Battle or Strat:         Either
Class:                   PERCENTAGE_OF_ARMY_KILLED_TEST
Implemented:             Yes
---------------------------------------------------
Identifier:              I_PercentageOfArmyKilled
Trigger requirements:    
Parameters:              alliance_index army_index logic_token percentage
Sample use:              I_PercentageOfArmyKilled 1 0 < 50
Description:             Tests the percentage of casualties taken by the specified army during this battle
Battle or Strat:         Battle
Class:                   BATTLE_PERCENTAGE_OF_ARMY_KILLED
Implemented:             Yes
---------------------------------------------------
Identifier:              PercentageEnemyKilled
Trigger requirements:    character_record
Parameters:              logic token, test value
Sample use:              PercentageEnemyKilled > 35.8
Description:             Test to see what percentage of the enemy was killed in the prior battle
Battle or Strat:         Either
Class:                   PERCENTAGE_OF_ENEMY_KILLED_TEST
Implemented:             Yes
---------------------------------------------------
Identifier:              PercentageBodyguardKilled
Trigger requirements:    character_record
Parameters:              logic token, test value
Sample use:              PercentageBodyguardKilled > 35.8
Description:             Test to see what percentage of their bodyguard was killed in the prior battle
Battle or Strat:         Either
Class:                   PERCENTAGE_OF_GENERALS_UNIT_KILLED_TEST
Implemented:             Yes
---------------------------------------------------
Identifier:              PercentageRoutedOffField
Trigger requirements:    character_record
Parameters:              logic token, test value
Sample use:              PercentageRoutedOffField > 35.8
Description:             Test to see the percentage of the character's soldiers who routed
Battle or Strat:         Either
Class:                   PERCENTAGE_ROUTED_OFF_FIELD_TEST
Implemented:             Yes
---------------------------------------------------
Identifier:              NumKilledGenerals
Trigger requirements:    character_record
Parameters:              logic token, test value
Sample use:              NumKilledGenerals > 3
Description:             Test to see how many generals were killed
Battle or Strat:         Either
Class:                   GENERALS_ARMY_KILLED_GENERALS_TEST
Implemented:             Yes
---------------------------------------------------
Identifier:              PercentageUnitCategory
Trigger requirements:    character_record
Parameters:              unit category (infantry, cavalry, siege, non_combatant, ship, handler), logic token, test value
Sample use:              PercentageUnitCategory handler > 35.8
Description:             Test to see what percentage of the army were of a particular category
Battle or Strat:         Either
Class:                   GENERALS_ARMY_PERCENTAGE_OF_UNIT_CATEGORY_TEST
Implemented:             Yes
---------------------------------------------------
Identifier:              NumFriendsInBattle
Trigger requirements:    character_record
Parameters:              logic token, test value
Sample use:              NumFriendsInBattle < 50
Description:             Test the number of soldiers and officers in allied armies
Battle or Strat:         Either
Class:                   NUM_FRIENDS_IN_BATTLE_TEST
Implemented:             Yes
---------------------------------------------------
Identifier:              NumEnemiesInBattle
Trigger requirements:    character_record
Parameters:              logic token, test value
Sample use:              NumEnemiesInBattle > 300
Description:             Test the number of soldiers and officers in enemy armies
Battle or Strat:         Either
Class:                   NUM_ENEMIES_IN_BATTLE_TEST
Implemented:             Yes
---------------------------------------------------
Identifier:              GeneralFoughtFaction
Trigger requirements:    character_record
Parameters:              faction type
Sample use:              GeneralFoughtFaction romans_julii
Description:             Test to see whether the opponent was of a particular faction in the prior battle
Battle or Strat:         Either
Class:                   FOUGHT_FACTION
Implemented:             Yes
---------------------------------------------------
Identifier:              GeneralFoughtCulture
Trigger requirements:    character_record
Parameters:              culture type (roman, barbarian, carthaginian, greek, egyptian, eastern)
Sample use:              GeneralFoughtCulture greek
Description:             Test to see whether the opponent was of a particular culture in the prior battle
Battle or Strat:         Either
Class:                   FOUGHT_CULTURE
Implemented:             Yes
---------------------------------------------------
Identifier:              I_ConflictType
Trigger requirements:    
Parameters:              conflict type (SuccessfulAmbush, FailedAmbush, Normal, Siege, SallyBesieger, Naval, Withdraw)
Sample use:              I_ConflictType SuccessfulAmbush
Description:             Test the type of conflict (ambush, siege &c.)
Battle or Strat:         Either
Class:                   BATTLE_CONFLICT_TYPE
Implemented:             Yes
---------------------------------------------------
Identifier:              IsNightBattle
Trigger requirements:    
Parameters:              None
Sample use:              IsNightBattle
Description:             Test if this is a night battle
Battle or Strat:         Either
Class:                   IS_NIGHT_BATTLE
Implemented:             Yes
---------------------------------------------------
Identifier:              BattleSuccess
Trigger requirements:    character_record
Parameters:              success type (close, average, clear, crushing)
Sample use:              BattleSuccess = clear, BattleSuccess > close
Description:             Test the type of success
Battle or Strat:         Either
Class:                   BATTLE_SUCCESS_TYPE
Implemented:             Yes
---------------------------------------------------
Identifier:              BattleOdds
Trigger requirements:    character_record
Parameters:              logic token, test value
Sample use:              BattleOdds > 5
Description:             Test the odds to win i.e. 5 (5:1)
Battle or Strat:         Either
Class:                   BATTLE_ODDS_TEST
Implemented:             Yes
---------------------------------------------------
Identifier:              WasAttacker
Trigger requirements:    character_record
Parameters:              None
Sample use:              WasAttacker
Description:             Was the character the aggressor?
Battle or Strat:         Either
Class:                   CHARACTER_WAS_ATTACKER
Implemented:             Yes
---------------------------------------------------
Identifier:              I_BattleAiAttacking
Trigger requirements:    
Parameters:              logic token
Sample use:              I_BattleAiAttacking
Description:             Is the enemy ai planning to attack the player?
Battle or Strat:         Battle
Class:                   BATTLE_AI_ATTACKING
Implemented:             Yes
---------------------------------------------------
Identifier:              I_BattleAiAttackingSettlement
Trigger requirements:    
Parameters:              logic token
Sample use:              I_BattleAiAttackingSettlement
Description:             Is the enemy ai planning to attack the player's settlement?
Battle or Strat:         Battle
Class:                   BATTLE_AI_ATTACKING_SETTLEMENT
Implemented:             Yes
---------------------------------------------------
Identifier:              I_BattleAiDefendingSettlement
Trigger requirements:    
Parameters:              logic token
Sample use:              I_BattleAiDefendingSettlement
Description:             Is the enemy ai planning to defend it's settlement?
Battle or Strat:         Battle
Class:                   BATTLE_AI_DEFENDING_SETTLEMENT
Implemented:             Yes
---------------------------------------------------
Identifier:              I_BattleAiDefendingHill
Trigger requirements:    
Parameters:              logic token
Sample use:              I_BattleAiDefendingHill
Description:             Is the enemy ai planning to defend a hill?
Battle or Strat:         Battle
Class:                   BATTLE_AI_DEFENDING_HILL
Implemented:             Yes
---------------------------------------------------
Identifier:              I_BattleAiDefendingCrossing
Trigger requirements:    
Parameters:              logic token
Sample use:              I_BattleAiDefendingCrossing
Description:             Is the enemy ai planning to defend a crossing?
Battle or Strat:         Battle
Class:                   BATTLE_AI_DEFENDING_CROSSING
Implemented:             Yes
---------------------------------------------------
Identifier:              I_BattleAiScouting
Trigger requirements:    
Parameters:              logic token
Sample use:              I_BattleAiScouting
Description:             Is the enemy ai planning to scout?
Battle or Strat:         Battle
Class:                   BATTLE_AI_SCOUTING
Implemented:             Yes
---------------------------------------------------
Identifier:              I_BattleIsRiverBattle
Trigger requirements:    
Parameters:              integer
Sample use:              I_BattleIsRiverBattle
Description:             Is this a river battle?
Battle or Strat:         Battle
Class:                   BATTLE_IS_RIVER_BATTLE
Implemented:             Yes
---------------------------------------------------
Identifier:              I_BattleIsSiegeBattle
Trigger requirements:    
Parameters:              integer
Sample use:              I_BattleIsSiegeBattle
Description:             Is this a siege battle?
Battle or Strat:         Battle
Class:                   BATTLE_IS_SIEGE_BATTLE
Implemented:             Yes
---------------------------------------------------
Identifier:              I_BattleIsSallyOutBattle
Trigger requirements:    
Parameters:              integer
Sample use:              I_BattleIsSallyOutBattle
Description:             Is this a sally out battle?
Battle or Strat:         Battle
Class:                   BATTLE_IS_SALLY_OUT_BATTLE
Implemented:             Yes
---------------------------------------------------
Identifier:              I_BattleIsFortBattle
Trigger requirements:    
Parameters:              integer
Sample use:              I_BattleIsFortBattle
Description:             Is this a fort battle?
Battle or Strat:         Battle
Class:                   BATTLE_IS_FORT_BATTLE
Implemented:             Yes
---------------------------------------------------
Identifier:              I_BattleAttackerNumSiegeEngines
Trigger requirements:    
Parameters:              siege_engine_class (tower, ram, ladder, sap_point)
Sample use:              I_BattleAttackerNumSiegeEngines ladder
Description:             How many of this engine type are present?
Battle or Strat:         Battle
Class:                   BATTLE_ATTACKER_NUM_SIEGE_ENGINES
Implemented:             Yes
---------------------------------------------------
Identifier:              I_BattleAttackerNumArtilleryCanPenetrateWalls
Trigger requirements:    
Parameters:              logic token, number
Sample use:              I_BattleAttackerNumArtilleryCanPenetrateWalls > 5
Description:             How many of the attackers artillery can penetrate the siege walls
Battle or Strat:         Battle
Class:                   BATTLE_ATTACKER_NUM_ARTILLERY_CAN_PENETRATE_WALLS
Implemented:             Yes
---------------------------------------------------
Identifier:              I_BattleDefenderNumNonMissileUnitsOnWalls
Trigger requirements:    
Parameters:              logic token, number
Sample use:              I_BattleDefenderNumNonMissileUnitsOnWalls > 5
Description:             How many of the defenders non-missile units are on the walls
Battle or Strat:         Battle
Class:                   BATTLE_DEFENDER_NUM_NON_MISSILE_UNITS_ON_WALLS
Implemented:             Yes
---------------------------------------------------
Identifier:              I_BattleDefenderNumMissileUnitsOnWalls
Trigger requirements:    
Parameters:              logic token, number
Sample use:              I_BattleDefenderNumMissileUnitsOnWalls > 5
Description:             How many of the defenders missile units are on the walls
Battle or Strat:         Battle
Class:                   BATTLE_DEFENDER_NUM_MISSILE_UNITS_ON_WALLS
Implemented:             Yes
---------------------------------------------------
Identifier:              I_BattleSettlementWallsBreached
Trigger requirements:    
Parameters:              none
Sample use:              I_BattleSettlementWallsBreached
Description:             Have the walls of the settlement been breached?
Battle or Strat:         Battle
Class:                   BATTLE_SETTLEMENT_WALLS_BREACHED
Implemented:             Yes
---------------------------------------------------
Identifier:              I_BattleSettlementGateDestroyed
Trigger requirements:    
Parameters:              none
Sample use:              I_BattleSettlementGateDestroyed
Description:             Has a gate in the settlement been destroyed?
Battle or Strat:         Battle
Class:                   BATTLE_SETTLEMENT_GATE_DESTROYED
Implemented:             Yes
---------------------------------------------------
Identifier:              I_BattleSettlementTowerDefence
Trigger requirements:    
Parameters:              tower defence type (arrow_tower, ballista_tower, none)
Sample use:              not I_BattleSettlementTowerDefence arrow_tower
Description:             What type of tower defence is this settlement equipped with?
Battle or Strat:         Battle
Class:                   BATTLE_SETTLEMENT_TOWER_DEFENCE
Implemented:             Yes
---------------------------------------------------
Identifier:              I_BattleSettlementGateDefence
Trigger requirements:    
Parameters:              gate defence type (hot_sand, burning_oil, none)
Sample use:              not I_BattleSettlementGateDefence hot_sand
Description:             What type of gate defence is this settlement equipped with?
Battle or Strat:         Battle
Class:                   BATTLE_SETTLEMENT_GATE_DEFENCE
Implemented:             Yes
---------------------------------------------------
Identifier:              I_BattleSettlementFortificationLevel
Trigger requirements:    
Parameters:              wall level (none, 0, 1, 2, 3, 4)
Sample use:              I_BattleSettlementFortificationLevel > 0
Description:             What is the fortification level of this settlement?
Battle or Strat:         Battle
Class:                   BATTLE_SETTLEMENT_FORTIFICATION_LEVEL
Implemented:             Yes
---------------------------------------------------
Identifier:              BattleBuildingType
Trigger requirements:    
Parameters:              building type (ambient, major, wall, tower, gate)
Sample use:              BattleBuildingType = wall
Description:             What type of building is this?
Battle or Strat:         Battle
Class:                   BATTLE_BUILDING_TYPE
Implemented:             Yes
---------------------------------------------------
Identifier:              I_BattleSettlementGateStrength
Trigger requirements:    
Parameters:              gate strength (0..2)
Sample use:              I_BattleSettlementGateStrength > 2
Description:             What is the strength of the settlement gates?
Battle or Strat:         Battle
Class:                   BATTLE_SETTLEMENT_GATE_STRENGTH
Implemented:             Yes
---------------------------------------------------
Identifier:              I_BattleNumberOfRiverCrossings
Trigger requirements:    
Parameters:              integer
Sample use:              I_BattleNumberOfRiverCrossings > 1
Description:             How many river crossings are there on this map?
Battle or Strat:         Battle
Class:                   BATTLE_NUMBER_OF_RIVER_CROSSINGS
Implemented:             Yes
---------------------------------------------------
Identifier:              BattlePlayerUnitClass
Trigger requirements:    player_unit
Parameters:              unit_class (heavy, light, skirmish, spearmen, missile)
Sample use:              BattlePlayerUnitClass = unit_class
Description:             What is the class of the player unit?
Battle or Strat:         Battle
Class:                   BATTLE_PLAYER_UNIT_CLASS
Implemented:             Yes
---------------------------------------------------
Identifier:              BattleEnemyUnitClass
Trigger requirements:    enemy_unit
Parameters:              unit_class (heavy, light, skirmish, spearmen, missile)
Sample use:              BattleEnemyUnitClass = unit_class
Description:             What is the class of the enemy unit?
Battle or Strat:         Battle
Class:                   BATTLE_ENEMY_UNIT_CLASS
Implemented:             Yes
---------------------------------------------------
Identifier:              BattlePlayerUnitCategory
Trigger requirements:    player_unit
Parameters:              unit category (infantry, cavalry, siege, non_combatant, ship, handler)
Sample use:              BattlePlayerUnitCategory = unit_category
Description:             What is the category of the player unit?
Battle or Strat:         Battle
Class:                   BATTLE_PLAYER_UNIT_CATEGORY
Implemented:             Yes
---------------------------------------------------
Identifier:              BattleEnemyUnitCategory
Trigger requirements:    enemy_unit
Parameters:              unit category (infantry, cavalry, siege, non_combatant, ship, handler)
Sample use:              BattleEnemyUnitCategory = unit_category
Description:             What is the category of the enemy unit?
Battle or Strat:         Battle
Class:                   BATTLE_ENEMY_UNIT_CATEGORY
Implemented:             Yes
---------------------------------------------------
Identifier:              BattlePlayerUnitSiegeEngineClass
Trigger requirements:    player_unit
Parameters:              siege engine category (catapult, trebuchet, ballista, scorpion, tower, ram, ladder, sap_point)
Sample use:              BattlePlayerUnitSiegeEngineClass = scorpion
Description:             What type of siege engine is the player unit?
Battle or Strat:         Battle
Class:                   BATTLE_PLAYER_UNIT_SIEGE_ENGINE_CLASS
Implemented:             Yes
---------------------------------------------------
Identifier:              BattleEnemyUnitSiegeEngineClass
Trigger requirements:    enemy_unit
Parameters:              siege engine category (catapult, trebuchet, ballista, scorpion, tower, ram, ladder, sap_point)
Sample use:              BattleEnemyUnitSiegeEngineClass = scorpion
Description:             What type of siege engine is the enemy unit?
Battle or Strat:         Battle
Class:                   BATTLE_ENEMY_UNIT_SIEGE_ENGINE_CLASS
Implemented:             Yes
---------------------------------------------------
Identifier:              BattlePlayerUnitOnWalls
Trigger requirements:    player_unit
Parameters:              none
Sample use:              BattlePlayerUnitOnWalls
Description:             Is the player unit on the walls?
Battle or Strat:         Battle
Class:                   BATTLE_PLAYER_UNIT_ON_WALLS
Implemented:             Yes
---------------------------------------------------
Identifier:              BattleEnemyUnitOnWalls
Trigger requirements:    enemy_unit
Parameters:              none
Sample use:              BattleEnemyUnitOnWalls
Description:             Is the enemy unit on the walls?
Battle or Strat:         Battle
Class:                   BATTLE_ENEMY_UNIT_ON_WALLS
Implemented:             Yes
---------------------------------------------------
Identifier:              BattlePlayerCurrentFormation
Trigger requirements:    player_unit
Parameters:              formation (horde, column, square, wedge, square_hollow, testudo, phalanx)
Sample use:              BattlePlayerCurrentFormation = phalanx
Description:             What is the current formation of the player unit?
Battle or Strat:         Battle
Class:                   BATTLE_PLAYER_CURRENT_FORMATION
Implemented:             Yes
---------------------------------------------------
Identifier:              BattleEnemyCurrentFormation
Trigger requirements:    enemy_unit
Parameters:              formation (horde, column, square, wedge, square_hollow, testudo, phalanx)
Sample use:              BattleEnemyCurrentFormation = unit_formation
Description:             What is the current formation of the enemy unit?
Battle or Strat:         Battle
Class:                   BATTLE_ENEMY_CURRENT_FORMATION
Implemented:             Yes
---------------------------------------------------
Identifier:              BattlePlayerUnitCloseFormation
Trigger requirements:    player_unit
Parameters:              none
Sample use:              BattlePlayerUnitCloseFormation
Description:             Is the player unit in close formation, otherwise loose?
Battle or Strat:         Battle
Class:                   BATTLE_PLAYER_UNIT_CLOSE_FORMATION
Implemented:             Yes
---------------------------------------------------
Identifier:              BattleEnemyUnitCloseFormation
Trigger requirements:    enemy_unit
Parameters:              none
Sample use:              BattleEnemyUnitCloseFormation
Description:             Is the enemy unit in close formation, otherwise loose?
Battle or Strat:         Battle
Class:                   BATTLE_ENEMY_UNIT_CLOSE_FORMATION
Implemented:             Yes
---------------------------------------------------
Identifier:              BattlePlayerUnitSpecialAbilitySupported
Trigger requirements:    player_unit
Parameters:              special_ability ( testudo, phalanx, wedge, drop_engines, flaming_ammo, warcry, chant, curse, beserk, rally, kill_elephants, move_and_shoot, cantabrian_circle, shield_wall, stealth, feigned_rout, schiltrom )
Sample use:              BattlePlayerUnitSpecialAbilitySupported = flaming_ammo
Description:             What special ability can the player unit support?
Battle or Strat:         Battle
Class:                   BATTLE_PLAYER_UNIT_SPECIAL_ABILITY_SUPPORTED
Implemented:             Yes
---------------------------------------------------
Identifier:              BattleSelectedPlayerUnitSpecialAbilitySupported
Trigger requirements:    
Parameters:              special_ability ( testudo, phalanx, wedge, drop_engines, flaming_ammo, warcry, chant, curse, beserk, rally, kill_elephants, move_and_shoot, cantabrian_circle, shield_wall, stealth, feigned_rout, schiltrom )
Sample use:              BattleSelectedPlayerUnitSpecialAbilitySupported = flaming_ammo
Description:             What special ability can the selected units support?
Battle or Strat:         Battle
Class:                   BATTLE_SELECTED_PLAYER_UNIT_SPECIAL_ABILITY_SUPPORTED
Implemented:             Yes
---------------------------------------------------
Identifier:              BattleEnemyUnitSpecialAbilitySupported
Trigger requirements:    enemy_unit
Parameters:              special_ability ( testudo, phalanx, wedge, drop_engines, flaming_ammo, warcry, chant, curse, beserk, rally, kill_elephants, move_and_shoot, cantabrian_circle, shield_wall, stealth, feigned_rout, schiltrom )
Sample use:              BattleEnemyUnitSpecialAbilitySupported = flaming_ammo
Description:             What special ability can the enemy unit support?
Battle or Strat:         Battle
Class:                   BATTLE_ENEMY_UNIT_SPECIAL_ABILITY_SUPPORTED
Implemented:             Yes
---------------------------------------------------
Identifier:              BattlePlayerUnitSpecialAbilityActive
Trigger requirements:    player_unit
Parameters:              none
Sample use:              BattlePlayerUnitSpecialAbilityActive
Description:             Is the player unit currently doing its special ability
Battle or Strat:         Battle
Class:                   BATTLE_PLAYER_UNIT_SPECIAL_ABILITY_ACTIVE
Implemented:             Yes
---------------------------------------------------
Identifier:              BattleEnemyUnitSpecialAbilityActive
Trigger requirements:    enemy_unit
Parameters:              none
Sample use:              BattleEnemyUnitSpecialAbilityActive
Description:             Is the enemy unit currently doing its special ability
Battle or Strat:         Battle
Class:                   BATTLE_ENEMY_UNIT_SPECIAL_ABILITY_ACTIVE
Implemented:             Yes
---------------------------------------------------
Identifier:              BattlePlayerMountClass
Trigger requirements:    player_unit
Parameters:              mount_class (horse, camel, elephant, chariot)
Sample use:              BattlePlayerMountClass = mount_class
Description:             What is the mount class of the player unit?
Battle or Strat:         Battle
Class:                   BATTLE_PLAYER_MOUNT_CLASS
Implemented:             Yes
---------------------------------------------------
Identifier:              BattleEnemyMountClass
Trigger requirements:    enemy_unit
Parameters:              mount_class (horse, camel, elephant, chariot)
Sample use:              BattleEnemyMountClass = mount_class
Description:             What is the mount class of the enemy unit?
Battle or Strat:         Battle
Class:                   BATTLE_ENEMY_MOUNT_CLASS
Implemented:             Yes
---------------------------------------------------
Identifier:              BattlePlayerUnitMeleeStrength
Trigger requirements:    player_unit
Parameters:              logic token, test value
Sample use:              BattlePlayerUnitMeleeStrength > 56.45
Description:             Compare the melee strength of a unit with a known value
Battle or Strat:         Battle
Class:                   BATTLE_PLAYER_UNIT_MELEE_STRENGTH
Implemented:             Yes
---------------------------------------------------
Identifier:              BattleEnemyUnitMeleeStrength
Trigger requirements:    enemy_unit
Parameters:              logic token, test value
Sample use:              BattleEnemyUnitMeleeStrength > 56.45
Description:             Compare the melee strength of a unit with a known value
Battle or Strat:         Battle
Class:                   BATTLE_ENEMY_UNIT_MELEE_STRENGTH
Implemented:             Yes
---------------------------------------------------
Identifier:              BattlePlayerUnitMissileStrength
Trigger requirements:    player_unit
Parameters:              logic token, test value
Sample use:              BattlePlayerUnitMissileStrength > 56.45
Description:             Compare the missile strength of a unit with a known value
Battle or Strat:         Battle
Class:                   BATTLE_PLAYER_UNIT_MISSILE_STRENGTH
Implemented:             Yes
---------------------------------------------------
Identifier:              BattleEnemyUnitMissileStrength
Trigger requirements:    enemy_unit
Parameters:              logic token, test value
Sample use:              BattleEnemyUnitMissileStrength > 56.45
Description:             Compare the missile strength of a unit with a known value
Battle or Strat:         Battle
Class:                   BATTLE_ENEMY_UNIT_MISSILE_STRENGTH
Implemented:             Yes
---------------------------------------------------
Identifier:              BattlePlayerUnitSpecialFormation
Trigger requirements:    player_unit
Parameters:              formation (horde, column, square, wedge, square_hollow, testudo, phalanx), test value
Sample use:              BattlePlayerUnitSpecialFormation = testudo
Description:             What is the special formation of the player unit
Battle or Strat:         Battle
Class:                   BATTLE_PLAYER_UNIT_SPECIAL_FORMATION
Implemented:             Yes
---------------------------------------------------
Identifier:              BattleEnemyUnitSpecialFormation
Trigger requirements:    enemy_unit
Parameters:              formation (horde, column, square, wedge, square_hollow, testudo, phalanx), test value
Sample use:              BattleEnemyUnitSpecialFormation = testudo
Description:             What is the special formation of the enemy unit
Battle or Strat:         Battle
Class:                   BATTLE_ENEMY_UNIT_SPECIAL_FORMATION
Implemented:             Yes
---------------------------------------------------
Identifier:              BattlePlayerUnitEngaged
Trigger requirements:    player_unit
Parameters:              None
Sample use:              BattlePlayerUnitEngaged
Description:             Is the player unit engaged in battle
Battle or Strat:         Battle
Class:                   BATTLE_PLAYER_UNIT_ENGAGED
Implemented:             Yes
---------------------------------------------------
Identifier:              BattleEnemyUnitEngaged
Trigger requirements:    enemy_unit
Parameters:              None
Sample use:              BattleEnemyUnitEngaged
Description:             Is the enemy unit engaged in battle
Battle or Strat:         Battle
Class:                   BATTLE_ENEMY_UNIT_ENGAGED
Implemented:             Yes
---------------------------------------------------
Identifier:              BattlePlayerActionStatus
Trigger requirements:    player_unit
Parameters:              Action status ( idling, hiding, ready, reforming, moving, withdrawing, missiles_firing, missiles_reloading, charging, fighting, pursuing, routing, fighting_backs_to_the_walls, running_amok, rallying, dead, leaving_battle, entering_battle, left_battle )
Sample use:              BattlePlayerActionStatus = moving
Description:             What is the current action status of the player unit
Battle or Strat:         Battle
Class:                   BATTLE_PLAYER_ACTION_STATUS
Implemented:             Yes
---------------------------------------------------
Identifier:              BattleEnemyActionStatus
Trigger requirements:    enemy_unit
Parameters:              Action status ( idling, hiding, ready, reforming, moving, withdrawing, missiles_firing, missiles_reloading, charging, fighting, pursuing, routing, fighting_backs_to_the_walls, running_amok, rallying, dead, leaving_battle, entering_battle, left_battle )
Sample use:              BattleEnemyActionStatus = moving
Description:             What is the current action status of the player unit
Battle or Strat:         Battle
Class:                   BATTLE_ENEMY_ACTION_STATUS
Implemented:             Yes
---------------------------------------------------
Identifier:              BattlePlayerUnitMovingFast
Trigger requirements:    player_unit
Parameters:              None
Sample use:              BattlePlayerUnitMovingFast
Description:             Is the player unit moving fast
Battle or Strat:         Battle
Class:                   BATTLE_PLAYER_UNIT_MOVING_FAST
Implemented:             Yes
---------------------------------------------------
Identifier:              BattleEnemyUnitMovingFast
Trigger requirements:    enemy_unit
Parameters:              None
Sample use:              BattleEnemyUnitMovingFast
Description:             Is the enemy unit moving fast
Battle or Strat:         Battle
Class:                   BATTLE_ENEMY_UNIT_MOVING_FAST
Implemented:             Yes
---------------------------------------------------
Identifier:              BattleRangeOfAttack
Trigger requirements:    player_unit, enemy_unit
Parameters:              logic token, test value
Sample use:              BattleRangeOfAttack > 56.45
Description:             Test the range of the attack (in m)
Battle or Strat:         Battle
Class:                   BATTLE_RANGE_OF_ATTACK
Implemented:             Yes
---------------------------------------------------
Identifier:              BattleDirectionOfAttack
Trigger requirements:    infer_attacking_unit, infer_defending_unit
Parameters:              logic token, attack_dir (front, flank, rear)
Sample use:              BattleDirectionOfAttack = front
Description:             Test direction of the attack
Battle or Strat:         Battle
Class:                   BATTLE_DIRECTION_OF_ATTACK
Implemented:             Yes
---------------------------------------------------
Identifier:              BattleIsMeleeAttack
Trigger requirements:    infer_attacking_unit
Parameters:              None
Sample use:              BattleIsMeleeAttack
Description:             Is the attacker initiating a melee attack (otherwise missile attack)
Battle or Strat:         Battle
Class:                   BATTLE_IS_MELEE_ATTACK
Implemented:             Yes
---------------------------------------------------
Identifier:              I_BattlePlayerArmyPercentageOfUnitClass
Trigger requirements:    
Parameters:              logic token, unit_class (heavy, light, skirmish, spearmen, missile), percentage
Sample use:              I_BattlePlayerArmyPercentageOfUnitClass missile > 50.0
Description:             Test makeup of army by unit class
Battle or Strat:         Battle
Class:                   BATTLE_PLAYER_ARMY_PERCENTAGE_OF_UNIT_CLASS
Implemented:             Yes
---------------------------------------------------
Identifier:              I_BattleEnemyArmyPercentageOfUnitClass
Trigger requirements:    
Parameters:              logic token, unit_class (heavy, light, skirmish, spearmen, missile), percentage
Sample use:              I_BattleEnemyArmyPercentageOfUnitClass missile > 50.0
Description:             Test makeup of army by unit class
Battle or Strat:         Battle
Class:                   BATTLE_ENEMY_ARMY_PERCENTAGE_OF_UNIT_CLASS
Implemented:             Yes
---------------------------------------------------
Identifier:              I_BattlePlayerArmyPercentageOfUnitCategory
Trigger requirements:    
Parameters:              logic token, unit category (infantry, cavalry, siege, non_combatant, ship, handler), percentage
Sample use:              I_BattlePlayerArmyPercentageOfUnitCategory missile > 50.0
Description:             Test makeup of army by unit category
Battle or Strat:         Battle
Class:                   BATTLE_PLAYER_ARMY_PERCENTAGE_OF_UNIT_CATEGORY
Implemented:             Yes
---------------------------------------------------
Identifier:              I_BattleEnemyArmyPercentageOfUnitCategory
Trigger requirements:    
Parameters:              logic token, unit category (infantry, cavalry, siege, non_combatant, ship, handler), percentage
Sample use:              I_BattleEnemyArmyPercentageOfUnitCategory missile > 50.0
Description:             Test makeup of army by unit category
Battle or Strat:         Battle
Class:                   BATTLE_ENEMY_ARMY_PERCENTAGE_OF_UNIT_CATEGORY
Implemented:             Yes
---------------------------------------------------
Identifier:              I_BattlePlayerArmyPercentageOfMountClass
Trigger requirements:    
Parameters:              logic token, mount_class (horse, camel, elephant, chariot), percentage
Sample use:              I_BattlePlayerArmyPercentageOfMountClass camel > 50.0
Description:             Test makeup of army by mount class
Battle or Strat:         Battle
Class:                   BATTLE_PLAYER_ARMY_PERCENTAGE_OF_MOUNT_CLASS
Implemented:             Yes
---------------------------------------------------
Identifier:              I_BattleEnemyArmyPercentageOfMountClass
Trigger requirements:    
Parameters:              logic token, mount_class (horse, camel, elephant, chariot), percentage
Sample use:              I_BattleEnemyArmyPercentageOfMountClass camel > 50.0
Description:             Test makeup of army by mount class
Battle or Strat:         Battle
Class:                   BATTLE_ENEMY_ARMY_PERCENTAGE_OF_MOUNT_CLASS
Implemented:             Yes
---------------------------------------------------
Identifier:              I_BattlePlayerArmyPercentageOfClassAndCategory
Trigger requirements:    
Parameters:              logic token, unit_class (heavy, light, skirmish, spearmen, missile), unit_category (infantry, cavalry, siege, non_combatant, ship, handler), percentage
Sample use:              I_BattlePlayerArmyPercentageOfClassAndCategory missile cavalry > 50.0
Description:             Test makeup of army by mount class
Battle or Strat:         Battle
Class:                   BATTLE_PLAYER_ARMY_PERCENTAGE_OF_CLASS_AND_CATEGORY
Implemented:             Yes
---------------------------------------------------
Identifier:              I_BattleEnemyArmyPercentageOfClassAndCategory
Trigger requirements:    
Parameters:              logic token, unit_class (heavy, light, skirmish, spearmen, missile), unit_category (infantry, cavalry, siege, non_combatant, ship, handler), percentage
Sample use:              I_BattleEnemyArmyPercentageOfClassAndCategory missile cavalry > 50.0
Description:             Test makeup of army by mount class
Battle or Strat:         Battle
Class:                   BATTLE_ENEMY_ARMY_PERCENTAGE_OF_CLASS_AND_CATEGORY
Implemented:             Yes
---------------------------------------------------
Identifier:              I_BattlePlayerArmyPercentageOfSpecialAbility
Trigger requirements:    
Parameters:              special_ability ( testudo, phalanx, wedge, drop_engines, flaming_ammo, warcry, chant, curse, beserk, rally, kill_elephants, move_and_shoot, cantabrian_circle, shield_wall, stealth, feigned_rout, schiltrom ), percentage
Sample use:              I_BattlePlayerArmyPercentageOfSpecialAbility testudo > 50.0
Description:             Test makeup of army by special ability
Battle or Strat:         Battle
Class:                   BATTLE_PLAYER_ARMY_PERCENTAGE_OF_SPECIAL_ABILITY
Implemented:             Yes
---------------------------------------------------
Identifier:              I_BattleEnemyArmyPercentageOfSpecialAbility
Trigger requirements:    
Parameters:              special_ability ( testudo, phalanx, wedge, drop_engines, flaming_ammo, warcry, chant, curse, beserk, rally, kill_elephants, move_and_shoot, cantabrian_circle, shield_wall, stealth, feigned_rout, schiltrom ), percentage
Sample use:              I_BattleEnemyArmyPercentageOfSpecialAbility testudo > 50.0
Description:             Test makeup of army by special ability
Battle or Strat:         Battle
Class:                   BATTLE_ENEMY_ARMY_PERCENTAGE_OF_SPECIAL_ABILITY
Implemented:             Yes
---------------------------------------------------
Identifier:              I_BattlePlayerArmyPercentageCanHide
Trigger requirements:    
Parameters:              logic token, hide_type (hide_forest, hide_improved_forest, hide_long_grass, hide_anywhere), percentage
Sample use:              I_BattlePlayerArmyPercentageCanHide hide_forest > 50.0
Description:             Test makeup of army by hide capability
Battle or Strat:         Battle
Class:                   BATTLE_PLAYER_ARMY_PERCENTAGE_CAN_HIDE
Implemented:             Yes
---------------------------------------------------
Identifier:              I_BattleEnemyArmyPercentageCanHide
Trigger requirements:    
Parameters:              logic token, hide_type (hide_forest, hide_improved_forest, hide_long_grass, hide_anywhere), percentage
Sample use:              I_BattleEnemyArmyPercentageCanHide hide_forest > 50.0
Description:             Test makeup of army by hide capability
Battle or Strat:         Battle
Class:                   BATTLE_ENEMY_ARMY_PERCENTAGE_CAN_HIDE
Implemented:             Yes
---------------------------------------------------
Identifier:              I_BattlePlayerArmyPercentageCanSwim
Trigger requirements:    
Parameters:              logic token, percentage
Sample use:              I_BattlePlayerArmyPercentageCanSwim > 50.0
Description:             Test makeup of army by swim capability
Battle or Strat:         Battle
Class:                   BATTLE_PLAYER_ARMY_PERCENTAGE_CAN_SWIM
Implemented:             Yes
---------------------------------------------------
Identifier:              I_BattleEnemyArmyPercentageCanSwim
Trigger requirements:    
Parameters:              logic token, percentage
Sample use:              I_BattleEnemyArmyPercentageCanSwim > 50.0
Description:             Test makeup of army by swim capability
Battle or Strat:         Battle
Class:                   BATTLE_ENEMY_ARMY_PERCENTAGE_CAN_SWIM
Implemented:             Yes
---------------------------------------------------
Identifier:              I_BattlePlayerArmyIsAttacker
Trigger requirements:    
Parameters:              logic token
Sample use:              I_BattlePlayerArmyIsAttacker
Description:             Is the player attacking
Battle or Strat:         Battle
Class:                   BATTLE_PLAYER_ARMY_IS_ATTACKER
Implemented:             Yes
---------------------------------------------------
Identifier:              I_BattlePlayerAllianceOddsInFavour
Trigger requirements:    
Parameters:              logic token
Sample use:              I_BattlePlayerAllianceOddsInFavour > 5
Description:             Odds in favour of the player i.e. 5 (5:1)
Battle or Strat:         Battle
Class:                   BATTLE_PLAYER_ALLIANCE_ODDS_IN_FAVOUR
Implemented:             Yes
---------------------------------------------------
Identifier:              I_BattlePlayerAllianceOddsAgainst
Trigger requirements:    
Parameters:              logic token
Sample use:              I_BattlePlayerAllianceOddsAgainst > 5
Description:             Odds against the player i.e. 5 (5:1)
Battle or Strat:         Battle
Class:                   BATTLE_PLAYER_ALLIANCE_ODDS_AGAINST
Implemented:             Yes
---------------------------------------------------
Identifier:              TotalSiegeWeapons
Trigger requirements:    character_record
Parameters:              logic token, number
Sample use:              TotalSiegeWeapons = 0
Description:             Test to see how many siege weapons this characters army has got for an assault.
Battle or Strat:         Strat
Class:                   TOTAL_NUMBER_OF_SIEGE_WEAPONS
Implemented:             Yes
---------------------------------------------------
Identifier:              I_BattleStarted
Trigger requirements:    
Parameters:              None
Sample use:              I_BattleStarted
Description:             Has the battle deployment phase ended
Battle or Strat:         Battle
Class:                   HAS_BATTLE_STARTED
Implemented:             Yes
---------------------------------------------------
Identifier:              I_BattleFinished
Trigger requirements:    
Parameters:              None
Sample use:              I_BattleFinished
Description:             Has the battle 'finished' phase started
Battle or Strat:         Either
Class:                   IS_BATTLE_FINISHED
Implemented:             Yes
---------------------------------------------------
Identifier:              I_BattleEnd
Trigger requirements:    
Parameters:              None
Sample use:              I_BattleEnd
Description:             Has the battle entered one of the end phases (ending or finish countdown, not end pending, see IBattleEndPending for that)
Battle or Strat:         Battle
Class:                   IS_BATTLE_END
Implemented:             Yes
---------------------------------------------------
Identifier:              I_BattleEndPending
Trigger requirements:    
Parameters:              None
Sample use:              I_BattleEndPending
Description:             Has the battle entered the end pending phase (ie dialog to the human player for whether they want to mop up the leftovers)
Battle or Strat:         Battle
Class:                   IS_BATTLE_END_PENDING
Implemented:             Yes
---------------------------------------------------
Identifier:              I_IsUnitMoveFastSet
Trigger requirements:    
Parameters:              unit_label
Sample use:              I_IsUnitMoveFastSet roman_archers
Description:             Is the specified unit flagged to move fast
Battle or Strat:         Battle
Class:                   IS_UNIT_MOVE_FAST_SET
Implemented:             Yes
---------------------------------------------------
Identifier:              I_IsUnitMoving
Trigger requirements:    
Parameters:              unit_label
Sample use:              I_IsUnitMoving roman_archers
Description:             Is the specified unit moving
Battle or Strat:         Battle
Class:                   IS_UNIT_MOVING
Implemented:             Yes
---------------------------------------------------
Identifier:              I_IsUnitIdle
Trigger requirements:    
Parameters:              unit_label
Sample use:              I_IsUnitIdle roman_archers
Description:             Is the specified unit idle?
Battle or Strat:         Battle
Class:                   IS_UNIT_IDLE
Implemented:             Yes
---------------------------------------------------
Identifier:              I_IsUnitRouting
Trigger requirements:    
Parameters:              unit_label
Sample use:              I_IsUnitRouting roman_archers
Description:             Is the specified unit routing?
Battle or Strat:         Battle
Class:                   IS_UNIT_ROUTING
Implemented:             Yes
---------------------------------------------------
Identifier:              I_IsUnitUnderFire
Trigger requirements:    
Parameters:              unit_label
Sample use:              I_IsUnitUnderFire roman_general_unit
Description:             Is the specified unit recieving missile fire?
Battle or Strat:         Battle
Class:                   IS_UNIT_UNDER_FIRE
Implemented:             Yes
---------------------------------------------------
Identifier:              I_IsUnitEngaged
Trigger requirements:    
Parameters:              unit_label
Sample use:              I_IsUnitEngaged roman_archers
Description:             Is the specified unit engaged in combat?
Battle or Strat:         Battle
Class:                   IS_UNIT_ENGAGED
Implemented:             Yes
---------------------------------------------------
Identifier:              I_IsUnitEngagedWithUnit
Trigger requirements:    
Parameters:              unit_label other_unit_label
Sample use:              I_IsUnitEngagedWithUnit roman_archers barb_cavalry
Description:             Tests if one specified unit is engaged in combat with the other specified unit?
Battle or Strat:         Battle
Class:                   IS_UNIT_ENGAGED_WITH_UNIT
Implemented:             Yes
---------------------------------------------------
Identifier:              I_UnitFormation
Trigger requirements:    
Parameters:              unit_label logic_token formation_type
Sample use:              I_UnitFormation hoplites4 = phalanx
Description:             Is the specified unit in the specified formation
Battle or Strat:         Battle
Class:                   UNIT_FORMATION
Implemented:             No
---------------------------------------------------
Identifier:              I_PercentageUnitKilled
Trigger requirements:    
Parameters:              unit_label logic_token percentage
Sample use:              I_PercentageUnitKilled roman_archers > 50
Description:             Tests the percentage of men lost from the specified unit
Battle or Strat:         Battle
Class:                   PERCENTAGE_UNIT_KILLED
Implemented:             Yes
---------------------------------------------------
Identifier:              I_UnitPercentageAmmoLeft
Trigger requirements:    
Parameters:              unit_label logic_token percentage
Sample use:              I_UnitPercentageAmmoLeft roman_archers > 75
Description:             Tests the percentage of ammo the unit has remaining
Battle or Strat:         Battle
Class:                   UNIT_PERCENTAGE_AMMO_LEFT
Implemented:             Yes
---------------------------------------------------
Identifier:              I_UnitDistanceFromPosition
Trigger requirements:    
Parameters:              unit_label pos_x pos_y logic_token distance
Sample use:              I_UnitDistanceFromPosition roman_archers 100 -60 < 20
Description:             Tests the specified unit's range from the given position
Battle or Strat:         Battle
Class:                   UNIT_DISTANCE_FROM_POSITION
Implemented:             Yes
---------------------------------------------------
Identifier:              I_UnitDistanceFromLine
Trigger requirements:    
Parameters:              unit_label location_1 location_2 logic_token distance
Sample use:              I_UnitDistanceFromLine roman_archers river_line_A river_line_B < 20
Description:             Tests the specified unit's distance from the line (looking from A to B, a unit to the left of the line will give a negative distance, one on the right will be positive)
Battle or Strat:         Battle
Class:                   UNIT_DISTANCE_FROM_LINE
Implemented:             Yes
---------------------------------------------------
Identifier:              I_UnitDistanceFromUnit
Trigger requirements:    
Parameters:              unit_label1 unit_label2 logic_token distance
Sample use:              I_UnitDistanceFromUnit roman_archers gaul_warband < 100
Description:             Tests the 2 specified units' distance from each other
Battle or Strat:         Battle
Class:                   UNIT_DISTANCE_FROM_UNIT
Implemented:             Yes
---------------------------------------------------
Identifier:              I_UnitInRangeOfUnit
Trigger requirements:    
Parameters:              attacker_unit_label target_unit_label
Sample use:              I_UnitInRangeOfUnit roman_archers gaul_warband
Description:             Tests if the attacker can hit the target with missile weapons
Battle or Strat:         Battle
Class:                   UNIT_IN_RANGE_OF_UNIT
Implemented:             Yes
---------------------------------------------------
Identifier:              I_UnitDestroyed
Trigger requirements:    
Parameters:              unit_label
Sample use:              I_UnitDestroyed roman_archers
Description:             Has the specified unit been wiped out?
Battle or Strat:         Battle
Class:                   UNIT_DESTROYED
Implemented:             Yes
---------------------------------------------------
Identifier:              I_UnitEnemyUnitInRadius
Trigger requirements:    
Parameters:              unit_label radius
Sample use:              I_UnitEnemyUnitInRadius roman_archers 100
Description:             Tests if there is any enemy within the specified radius of the unit
Battle or Strat:         Battle
Class:                   UNIT_ENEMY_UNIT_IN_RADIUS
Implemented:             Yes
---------------------------------------------------
Identifier:              I_IsUnitGroupMoving
Trigger requirements:    
Parameters:              group_label
Sample use:              I_IsUnitGroupMoving group1
Description:             Is any unit in the group moving?
Battle or Strat:         Battle
Class:                   IS_UNIT_GROUP_MOVING
Implemented:             Yes
---------------------------------------------------
Identifier:              I_IsUnitGroupEngaged
Trigger requirements:    
Parameters:              group_label
Sample use:              I_IsUnitGroupEngaged group1
Description:             Is any unit in the group engaged in combat?
Battle or Strat:         Battle
Class:                   IS_UNIT_GROUP_ENGAGED
Implemented:             Yes
---------------------------------------------------
Identifier:              I_IsUnitGroupIdle
Trigger requirements:    
Parameters:              group_label
Sample use:              I_IsUnitGroupIdle group1
Description:             Are all units in the group idle?
Battle or Strat:         Battle
Class:                   IS_UNIT_GROUP_IDLE
Implemented:             Yes
---------------------------------------------------
Identifier:              I_IsUnitGroupDestroyed
Trigger requirements:    
Parameters:              group_label
Sample use:              I_IsUnitGroupDestroyed group1
Description:             Is the unit group destroyed (killed or routed)
Battle or Strat:         Battle
Class:                   IS_UNIT_GROUP_DESTROYED
Implemented:             Yes
---------------------------------------------------
Identifier:              I_PercentageUnitGroupKilled
Trigger requirements:    
Parameters:              group_label logic_token percentage
Sample use:              I_PercentageUnitGroupKilled roman_archers < 50
Description:             Tests the percentage of men lost from the unit group
Battle or Strat:         Battle
Class:                   PERCENTAGE_UNIT_GROUP_KILLED
Implemented:             Yes
---------------------------------------------------
Identifier:              I_UnitGroupFormation
Trigger requirements:    
Parameters:              group_label logic_token formation_name
Sample use:              I_UnitGroupFormation roman_archers = ordered_triple_line_1
Description:             Tests the unit group's group formation
Battle or Strat:         Battle
Class:                   UNIT_GROUP_FORMATION
Implemented:             Yes
---------------------------------------------------
Identifier:              I_UnitGroupDistanceFromPosition
Trigger requirements:    
Parameters:              group_label position logic_token distance
Sample use:              I_UnitGroupDistanceFromPosition roman_archers -20 -415 < 100
Description:             Tests the unit_group's centre_front against the given position
Battle or Strat:         Battle
Class:                   UNIT_GROUP_DISTANCE_FROM_POSITION
Implemented:             Yes
---------------------------------------------------
Identifier:              I_UnitGroupDistanceFromGroup
Trigger requirements:    
Parameters:              group_label target_group_label logic_token distance
Sample use:              I_UnitGroupDistanceFromGroup roman_archers gaul_swordsmen < 50
Description:             Tests the distance between two unit groups
Battle or Strat:         Battle
Class:                   UNIT_GROUP_DISTANCE_FROM_GROUP
Implemented:             Yes
---------------------------------------------------
Identifier:              I_UnitGroupInRangeOfUnit
Trigger requirements:    
Parameters:              group_label target_unit_label
Sample use:              I_UnitGroupInRangeOfUnit archer_group enemy_unit1
Description:             Tests if any unit in the group is within range of the target unit
Battle or Strat:         Battle
Class:                   UNIT_GROUP_IN_RANGE_OF_UNIT
Implemented:             Yes
---------------------------------------------------
Identifier:              I_UnitInRangeOfUnitGroup
Trigger requirements:    
Parameters:              unit_label target_group_label
Sample use:              I_UnitInRangeOfUnitGroup roman_archers enemy_group3
Description:             Tests if the unit is within range of any of the units in the target group
Battle or Strat:         Battle
Class:                   UNIT_IN_RANGE_OF_UNIT_GROUP
Implemented:             Yes
---------------------------------------------------
Identifier:              I_UnitGroupInRangeOfUnitGroup
Trigger requirements:    
Parameters:              group_label target_group_label
Sample use:              I_UnitGroupInRangeOfUnitGroup archer_group2 enemy_group6
Description:             Tests if any unit in the group can hit any unit in the target group
Battle or Strat:         Battle
Class:                   UNIT_GROUP_IN_RANGE_OF_UNIT_GROUP
Implemented:             Yes
---------------------------------------------------
Identifier:              I_PlayerInRangeOfUnitGroup
Trigger requirements:    
Parameters:              group_label
Sample use:              I_PlayerInRangeOfUnitGroup enemy_group2
Description:             tests if any player unit is in range of any unit in the group
Battle or Strat:         Battle
Class:                   PLAYER_IN_RANGE_OF_UNIT_GROUP
Implemented:             Yes
---------------------------------------------------
Identifier:              I_PlayerInRangeOfUnit
Trigger requirements:    
Parameters:              unit_label
Sample use:              I_PlayerInRangeOfUnit roman_archers
Description:             Is any unit in the player's army in range of the specified unit
Battle or Strat:         Battle
Class:                   PLAYER_IN_RANGE_OF_UNIT
Implemented:             Yes
---------------------------------------------------
Identifier:              I_UnitTypeSelected
Trigger requirements:    
Parameters:              unit type ('type' from export_descr_units.txt)
Sample use:              I_UnitTypeSelected roman archer auxillia
Description:             Tests if the player has a particular unit type selected
Battle or Strat:         Battle
Class:                   UNIT_TYPE_SELECTED
Implemented:             Yes
---------------------------------------------------
Identifier:              UnitType
Trigger requirements:    resource_description
Parameters:              unit type ('type' from export_descr_units.txt)
Sample use:              UnitType roman archer auxillia
Description:             Tests if a unit is of a particular type
Battle or Strat:         Either
Class:                   UNIT_TYPE
Implemented:             Yes
---------------------------------------------------
Identifier:              I_UnitSelected
Trigger requirements:    
Parameters:              unit_label
Sample use:              I_UnitSelected roman_archers
Description:             Is the specified unit selected?
Battle or Strat:         Battle
Class:                   UNIT_SELECTED
Implemented:             Yes
---------------------------------------------------
Identifier:              I_MultipleUnitsSelected
Trigger requirements:    
Parameters:              None
Sample use:              I_MultipleUnitsSelected
Description:             Are multiple units selected?
Battle or Strat:         Battle
Class:                   MULTIPLE_UNITS_SELECTED
Implemented:             Yes
---------------------------------------------------
Identifier:              I_SpecificUnitsSelected
Trigger requirements:    
Parameters:              unit_label1, unit_label2, unit_label3, ...
Sample use:              I_SpecificUnitsSelected roman_archers roman_hastati roman_gladiators1
Description:             Tests if all the specified units are selected
Battle or Strat:         Battle
Class:                   SPECIFIC_UNITS_SELECTED
Implemented:             Yes
---------------------------------------------------
Identifier:              I_IsCameraZoomingToUnit
Trigger requirements:    
Parameters:              unit_label
Sample use:              I_IsCameraZoomingToUnit roman_archers
Description:             Tests if the camera is zooming to the specified unit
Battle or Strat:         Battle
Class:                   IS_CAMERA_ZOOMING_TO_UNIT
Implemented:             Yes
---------------------------------------------------
Identifier:              I_BattleEnemyArmyPercentageOfMatchingUnits
Trigger requirements:    
Parameters:              unit match type, logic token, test value
Sample use:              I_BattleEnemyArmyPercentageOfMatchingUnits has_dogs > 35.8
Description:             Test to see what percentage of the enemy army matches a particular match category
Battle or Strat:         Battle
Class:                   BATTLE_ENEMY_ARMY_PERCENTAGE_OF_UNIT_MATCHING_TEST
Implemented:             Yes
---------------------------------------------------
Identifier:              I_BattleEnemyArmyNumberOfMatchingUnits
Trigger requirements:    
Parameters:              unit match type, logic token, test value
Sample use:              I_BattleEnemyArmyNumberOfMatchingUnits has_dogs > 2
Description:             Test to see how many units of the enemy army match a particular match category
Battle or Strat:         Battle
Class:                   BATTLE_ENEMY_ARMY_NUMBER_OF_UNIT_MATCHING_TEST
Implemented:             Yes
---------------------------------------------------
Identifier:              I_BattlePlayerArmyPercentageOfMatchingUnits
Trigger requirements:    
Parameters:              unit match type, logic token, test value
Sample use:              I_BattlePlayerArmyPercentageOfMatchingUnits has_dogs > 35.8
Description:             Test to see what percentage of the player's army matches a particular match category
Battle or Strat:         Battle
Class:                   BATTLE_PLAYER_ARMY_PERCENTAGE_OF_UNIT_MATCHING_TEST
Implemented:             Yes
---------------------------------------------------
Identifier:              I_BattlePlayerArmyNumberOfMatchingUnits
Trigger requirements:    
Parameters:              unit match type, logic token, test value
Sample use:              I_BattlePlayerArmyNumberOfMatchingUnits has_dogs > 2
Description:             Test to see how many units of the player's army match a particular match category
Battle or Strat:         Battle
Class:                   BATTLE_PLAYER_ARMY_NUMBER_OF_UNIT_MATCHING_TEST
Implemented:             Yes
---------------------------------------------------
Identifier:              LocalPlayerHasManualReinforcements
Trigger requirements:    
Parameters:              
Sample use:              LocalPlayerHasManualReinforcements
Description:             Test to see if the player has manual reinforcements
Battle or Strat:         Battle
Class:                   BATTLE_PLAYER_WITH_MANUAL_REINFORCEMENTS_TEST
Implemented:             Yes
---------------------------------------------------
Identifier:              LocalPlayerHasAIReinforcements
Trigger requirements:    
Parameters:              
Sample use:              LocalPlayerHasAIReinforcements
Description:             Test to see if the player has AI reinforcements
Battle or Strat:         Battle
Class:                   BATTLE_PLAYER_WITH_AI_REINFORCEMENTS_TEST
Implemented:             Yes
---------------------------------------------------
Identifier:              Trait
Trigger requirements:    character_record
Parameters:              trait description, logic token, level
Sample use:              Trait Girls <= 2
Description:             Test a character trait
Battle or Strat:         Either
Class:                   CHARACTER_TRAIT_TEST
Implemented:             Yes
---------------------------------------------------
Identifier:              HasAncillary
Trigger requirements:    character_record
Parameters:              ancillary description
Sample use:              HasAncillary RomanFashion_Julii
Description:             Test a character ancillary
Battle or Strat:         Either
Class:                   CHARACTER_ANCILLARY_TEST
Implemented:             Yes
---------------------------------------------------
Identifier:              FatherTrait
Trigger requirements:    character_record
Parameters:              trait description, logic token, level
Sample use:              FatherTrait VictorRomanVirtue >= 2
Description:             Test a character's father's traits for hereditary traits
Battle or Strat:         Either
Class:                   FATHER_TRAIT_TEST
Implemented:             Yes
---------------------------------------------------
Identifier:              FactionLeaderTrait
Trigger requirements:    character_record
Parameters:              trait description, logic token, level
Sample use:              FactionLeaderTrait VictorRomanVirtue >= 2
Description:             Test a character's faction leader traits
Battle or Strat:         Either
Class:                   FACTION_LEADER_TRAIT_TEST
Implemented:             Yes
---------------------------------------------------
Identifier:              Attribute
Trigger requirements:    character_record
Parameters:              attribute description, logic token, level
Sample use:              Attribute Management >= 2
Description:             Test a character's attributes or hidden attributes
Battle or Strat:         Either
Class:                   CHARACTER_ATTRIBUTE_TEST
Implemented:             Yes
---------------------------------------------------
Identifier:              RemainingMPPercentage
Trigger requirements:    character_record
Parameters:              logic token, level
Sample use:              RemainingMPPercentage >= 35.8
Description:             If this character has not moved this turn, he should have maximum movement points left.  Test for percentage remaining.  Will almost never be exactly zero, so check for < 10
Battle or Strat:         Strat
Class:                   CHARACTER_MP_REMAINING_PERCENTAGE
Implemented:             Yes
---------------------------------------------------
Identifier:              I_RemainingMPPercentage
Trigger requirements:    
Parameters:              logic token, level
Sample use:              I_RemainingMPPercentage Gaius Julius >= 35.8
Description:             If this character has not moved this turn, he should have maximum movement points left.  Test for percentage remaining.  Will almost never be exactly zero, so check for < 10
Battle or Strat:         Strat
Class:                   I_CHARACTER_MP_REMAINING_PERCENTAGE
Implemented:             Yes
---------------------------------------------------
Identifier:              I_CharacterCanMove
Trigger requirements:    
Parameters:              logic token, level
Sample use:              I_CharacterCanMove Gaius Julius
Description:             Can the named character move to any square?  He may only be able to move in one direction, particularly the one he came from, so don't assume ability to move means he can move usefully.
Battle or Strat:         Strat
Class:                   I_CHARACTER_CAN_MOVE
Implemented:             Yes
---------------------------------------------------
Identifier:              NoActionThisTurn
Trigger requirements:    character_record
Parameters:              None
Sample use:              NoActionThisTurn
Description:             Test to see if the character was idle throughout this turn
Battle or Strat:         Strat
Class:                   CHARACTER_NOT_PERFORMED_ACTION
Implemented:             Yes
---------------------------------------------------
Identifier:              AgentType
Trigger requirements:    character_record
Parameters:              character type (spy, assassin, diplomat, admiral, general, named character, family)
Sample use:              AgentType = diplomat
Description:             Test to see if a character is of a particular type (spy, admiral, named character &c.)
Battle or Strat:         Strat
Class:                   CHARACTER_TYPE_TEST
Implemented:             Yes
---------------------------------------------------
Identifier:              TrainedAgentType
Trigger requirements:    character_record
Parameters:              character type (spy, assassin, diplomat, admiral, general, named character, family)
Sample use:              TrainedAgentType = diplomat
Description:             Test to see if a character is of a particular type (spy, admiral, named character &c.)
Battle or Strat:         Strat
Class:                   GOVERNOR_TRAINED_AGENT_TYPE_TEST
Implemented:             Yes
---------------------------------------------------
Identifier:              DisasterType
Trigger requirements:    event_type
Parameters:              event type (earthquake, flood, horde, fire, riot, storm, volcano)
Sample use:              DisasterType earthquake
Description:             Test to see if a particular disaster just happened
Battle or Strat:         Strat
Class:                   CHARACTER_AFFECTED_BY_DISASTER_EVENT_TEST
Implemented:             Yes
---------------------------------------------------
Identifier:              CultureType
Trigger requirements:    character_record
Parameters:              culture type (roman, barbarian, carthaginian, greek, egyptian, eastern)
Sample use:              CultureType greek
Description:             Test the character's culture type
Battle or Strat:         Either
Class:                   CHARACTER_CULTURE
Implemented:             Yes
---------------------------------------------------
Identifier:              OriginalFactionType
Trigger requirements:    character_record
Parameters:              OriginalFactionType
Sample use:              OriginalFactionType empire_west
Description:             Test the character's original faction type
Battle or Strat:         Either
Class:                   CHARACTER_ORIGINAL_FACTION_TYPE
Implemented:             Yes
---------------------------------------------------
Identifier:              OriginalCultureType
Trigger requirements:    character_record
Parameters:              OriginalCultureType 
Sample use:              OriginalCultureType roman
Description:             Test the character's original culture type
Battle or Strat:         Either
Class:                   CHARACTER_ORIGINAL_CULTURE_TYPE
Implemented:             Yes
---------------------------------------------------
Identifier:              IsGeneral
Trigger requirements:    character_record
Parameters:              None
Sample use:              IsGeneral
Description:             Test to see if the character can command a land army
Battle or Strat:         Either
Class:                   CHARACTER_IS_GENERAL
Implemented:             Yes
---------------------------------------------------
Identifier:              IsAdmiral
Trigger requirements:    character_record
Parameters:              None
Sample use:              IsAdmiral
Description:             Test to see if the character has an army
Battle or Strat:         Either
Class:                   CHARACTER_IS_ADMIRAL
Implemented:             Yes
---------------------------------------------------
Identifier:              RemasteredEducation
Trigger requirements:    None
Parameters:              None
Sample use:              RemasteredEducation
Description:             Test to see if the remastered education triggers should be used
Battle or Strat:         Strat
Class:                   REMASTERED_EDUCATION
Implemented:             Yes
---------------------------------------------------
Identifier:              EndedInSettlement
Trigger requirements:    character_record
Parameters:              None
Sample use:              EndedInSettlement
Description:             Test to see if the character is in a settlement
Battle or Strat:         Either
Class:                   CHARACTER_IN_SETTLEMENT
Implemented:             Yes
---------------------------------------------------
Identifier:              IsFactionLeader
Trigger requirements:    character_record
Parameters:              None
Sample use:              IsFactionLeader
Description:             Test to see if the character is a faction leader
Battle or Strat:         Either
Class:                   CHARACTER_IS_LEADER
Implemented:             Yes
---------------------------------------------------
Identifier:              IsFactionHeir
Trigger requirements:    character_record
Parameters:              None
Sample use:              IsFactionHeir
Description:             Test to see if the character is a faction heir
Battle or Strat:         Either
Class:                   CHARACTER_IS_HEIR
Implemented:             Yes
---------------------------------------------------
Identifier:              IsMarried
Trigger requirements:    character_record
Parameters:              None
Sample use:              IsMarried
Description:             Test to see if the character is married
Battle or Strat:         Either
Class:                   CHARACTER_IS_MARRIED
Implemented:             Yes
---------------------------------------------------
Identifier:              AtSea
Trigger requirements:    character_record
Parameters:              None
Sample use:              AtSea
Description:             Is the character at sea?
Battle or Strat:         Either
Class:                   CHARACTER_AT_SEA
Implemented:             Yes
---------------------------------------------------
Identifier:              InEnemyLands
Trigger requirements:    character_record
Parameters:              None
Sample use:              InEnemyLands
Description:             Is the character in enemy lands?
Battle or Strat:         Either
Class:                   CHARACTER_IN_ENEMY_LANDS
Implemented:             Yes
---------------------------------------------------
Identifier:              InBarbarianLands
Trigger requirements:    character_record
Parameters:              None
Sample use:              InBarbarianLands
Description:             Is the character in lands of a barbarian culture?
Battle or Strat:         Either
Class:                   CHARACTER_IN_BARBARIAN_LANDS
Implemented:             Yes
---------------------------------------------------
Identifier:              InUncivilisedLands
Trigger requirements:    character_record
Parameters:              None
Sample use:              InUncivilisedLands
Description:             Is the character in lands of an uncivilised culture?
Battle or Strat:         Either
Class:                   CHARACTER_IN_UNCIVILISED_LANDS
Implemented:             Yes
---------------------------------------------------
Identifier:              IsBesieging
Trigger requirements:    character_record
Parameters:              None
Sample use:              IsBesieging
Description:             Is the character besieging a settlement?
Battle or Strat:         Either
Class:                   CHARACTER_IS_BESIEGING
Implemented:             Yes
---------------------------------------------------
Identifier:              IsUnderSiege
Trigger requirements:    character_record
Parameters:              None
Sample use:              IsUnderSiege
Description:             Is the character in a garrison residence under siege?
Battle or Strat:         Either
Class:                   CHARACTER_IS_UNDER_SIEGE
Implemented:             Yes
---------------------------------------------------
Identifier:              I_WithdrawsBeforeBattle
Trigger requirements:    
Parameters:              None
Sample use:              I_WithdrawsBeforeBattle
Description:             Was the last battle aborted?
Battle or Strat:         Either
Class:                   CHARACTER_WITHDRAWS_BEFORE_BATTLE
Implemented:             Yes
---------------------------------------------------
Identifier:              EndedInEnemyZOC
Trigger requirements:    character_record
Parameters:              None
Sample use:              EndedInEnemyZOC
Description:             Is the character in an enemy zone of control?
Battle or Strat:         Either
Class:                   ENDED_IN_ENEMY_ZOC
Implemented:             Yes
---------------------------------------------------
Identifier:              AdviseAction
Trigger requirements:    character_action_advice
Parameters:              logic token, action (attack_enemy, attack_settlement, merge_armies, patrol_region, move_to_region, do_nothing)
Sample use:              AdviseAction = attack_settlement
Description:             Is this the best thing this character can do now?
Battle or Strat:         Strat
Class:                   ADVISE_ACTION
Implemented:             Yes
---------------------------------------------------
Identifier:              I_CharacterTypeNearCharacterType
Trigger requirements:    
Parameters:              faction, character type, distance in squares, faction, character type
Sample use:              I_CharacterTypeNearCharacterType romans_julii spy 10 gaul named character
Description:             Is a particular character type of a faction near another particular character type of another faction?
Battle or Strat:         Strat
Class:                   I_CHARACTER_NEAR_CHARACTER
Implemented:             Yes
---------------------------------------------------
Identifier:              I_CharacterTypeNearTile
Trigger requirements:    
Parameters:              faction, character type, distance in squares, x, z
Sample use:              I_CharacterTypeNearTile romans_julii named_character, 10 48,30
Description:             Is a particular character type of a faction near a particular tile?
Battle or Strat:         Strat
Class:                   I_CHARACTER_NEAR_TILE
Implemented:             Yes
---------------------------------------------------
Identifier:              I_CharacterNameNearTile
Trigger requirements:    
Parameters:              faction, character name, distance in squares, x, z
Sample use:              I_CharacterNameNearTile Flavius Julius, named_character, 10 48,30
Description:             Is a particular character near a particular tile?
Battle or Strat:         Strat
Class:                   I_CHARACTER_NAME_NEAR_TILE
Implemented:             Yes
---------------------------------------------------
Identifier:              TradingResource
Trigger requirements:    character_record
Parameters:              resource / resource group description
Sample use:              TradingResource silk
Description:             Test if the current merchant is standing on and trading the specified resource
Battle or Strat:         Strat
Class:                   TRADING_RESOURCE
Implemented:             Yes
---------------------------------------------------
Identifier:              RegionTradingResource
Trigger requirements:    character_record
Parameters:              resource / resource group description
Sample use:              RegionTradingResource silk
Description:             Tests if the current merchant is trading a resource in the provided group. Does not need to be standing on said resource.
Battle or Strat:         Strat
Class:                   REGION_TRADING_RESOURCE
Implemented:             Yes
---------------------------------------------------
Identifier:              TradingExotic
Trigger requirements:    character_record
Parameters:              None
Sample use:              TradingExotic
Description:             Is the character trading an exotic resource?
Battle or Strat:         Strat
Class:                   TRADING_EXOTIC
Implemented:             Yes
---------------------------------------------------
Identifier:              DistanceCapital
Trigger requirements:    character_record
Parameters:              logic token, level
Sample use:              DistanceCapital >= 40
Description:             Does the characters distance to the faction capital exceed the given threshold?
Battle or Strat:         Strat
Class:                   CHARACTER_DISTANCE_CAPITAL
Implemented:             Yes
---------------------------------------------------
Identifier:              DistanceHome
Trigger requirements:    character_record
Parameters:              logic token, level
Sample use:              DistanceHome >= 40
Description:             Does the characters distance to their home settlement exceed the given threshold?
Battle or Strat:         Strat
Class:                   CHARACTER_DISTANCE_HOME
Implemented:             Yes
---------------------------------------------------
Identifier:              TradingGroup
Trigger requirements:    character_record
Parameters:              logic token, resource group
Sample use:              TradingGroup precious_minerals
Description:             Checks if the characters faction is merchant trading each of the resources within the group. Also, required this merchant to be trading one of them.
Battle or Strat:         Strat
Class:                   TRADING_GROUP
Implemented:             Yes
---------------------------------------------------
Identifier:              RegionMerchantCount
Trigger requirements:    character_record
Parameters:              logic token, value
Sample use:              RegionMerchantCount > 3
Description:             Do the number of merchants in the characters region exceed the given value?
Battle or Strat:         Strat
Class:                   REGION_MERCHANT_COUNT
Implemented:             Yes
---------------------------------------------------
Identifier:              PreciousMineCount
Trigger requirements:    character_record, faction
Parameters:              logic token, value
Sample use:              PreciousMineCount > 3
Description:             Does the amount of Precious minerals we are mining exceed the given value? (Resource Quantity * Mine Levels)
Battle or Strat:         Strat
Class:                   FACTION_PRECIOUS_MINE_COUNT
Implemented:             Yes
---------------------------------------------------
Identifier:              IsFromFaction
Trigger requirements:    character_record, faction
Parameters:              logic token, value
Sample use:              IsFromFaction roman_empire
Description:             Is this character from a faction within the provided faction group?
Battle or Strat:         Strat
Class:                   FROM_FACTION_GROUP
Implemented:             Yes
---------------------------------------------------
Identifier:              NightBattlesEnabled
Trigger requirements:    IS_TOGGLED("night battles")
Parameters:              
Sample use:              WorldwideAncillaryExists
Description:             Is night battles enabled
Battle or Strat:         Strat
Class:                   NIGHT_BATTLE_ENABLED
Implemented:             Yes
---------------------------------------------------
Identifier:              character_age
Trigger requirements:    character
Parameters:              logic token, age
Sample use:              character_age >= 60
Description:             Checks the age of a character
Battle or Strat:         Strat
Class:                   CHARACTER_IS_AGE
Implemented:             Yes
---------------------------------------------------
Identifier:              HasOffice
Trigger requirements:    character
Parameters:              
Sample use:              HasOffice Aedile
Description:             Checks if a character holds a senate office (or is just about to leave one, in the case of LeaveOffice)
Battle or Strat:         Strat
Class:                   HAS_OFFICE
Implemented:             Yes
---------------------------------------------------
Identifier:              FactionType
Trigger requirements:    faction
Parameters:              faction type
Sample use:              FactionType romans_julii
Description:             Test the faction type
Battle or Strat:         Either
Class:                   FACTION_TYPE_CHECK
Implemented:             Yes
---------------------------------------------------
Identifier:              TargetFactionType
Trigger requirements:    target_faction
Parameters:              faction type
Sample use:              TargetFactionType romans_julii
Description:             Test the target faction type
Battle or Strat:         Either
Class:                   TARGET_FACTION_TYPE_CHECK
Implemented:             Yes
---------------------------------------------------
Identifier:              FactionCultureType
Trigger requirements:    faction
Parameters:              culture type (roman, barbarian, carthaginian, greek, egyptian, eastern)
Sample use:              FactionCultureType greek
Description:             Test the faction's culture type
Battle or Strat:         Either
Class:                   FACTION_CULTURE
Implemented:             Yes
---------------------------------------------------
Identifier:              TargetFactionCultureType
Trigger requirements:    target_faction
Parameters:              culture type (roman, barbarian, carthaginian, greek, egyptian, eastern)
Sample use:              TargetFactionCultureType greek
Description:             Test the target faction's culture type
Battle or Strat:         Either
Class:                   TARGET_FACTION_CULTURE
Implemented:             Yes
---------------------------------------------------
Identifier:              TrainedUnitCategory
Trigger requirements:    unit_category
Parameters:              category description (infantry, cavalry, siege, non_combatant, ship, handler)
Sample use:              TrainedUnitCategory cavalry
Description:             Test to see if the unit is of a particular category
Battle or Strat:         Strat
Class:                   GOVERNOR_TRAINED_UNIT_TYPE_TEST
Implemented:             Yes
---------------------------------------------------
Identifier:              UnitCategory
Trigger requirements:    unit_category
Parameters:              logic token, category description
Sample use:              
Description:             Test to see if the unit is of a particular category
Battle or Strat:         Strat
Class:                   UNIT_CATEGORY_TYPE_TEST
Implemented:             Yes
---------------------------------------------------
Identifier:              SenateMissionTimeRemaining
Trigger requirements:    faction
Parameters:              logic token, number of turns
Sample use:              SenateMissionTimeRemaining < 3
Description:             Test the number of turns before the next senate mission expires
Battle or Strat:         Either
Class:                   SENATE_MISSION_TIME_REMAINING
Implemented:             Yes
---------------------------------------------------
Identifier:              MedianTaxLevel
Trigger requirements:    faction
Parameters:              logic token, tax level (tax_low, tax_normal, tax_high, tax_extortionate)
Sample use:              MedianTaxLevel > tax_high
Description:             Compare the median tax level
Battle or Strat:         Either
Class:                   MEDIAN_TAX_LEVEL
Implemented:             Yes
---------------------------------------------------
Identifier:              ModeTaxLevel
Trigger requirements:    faction
Parameters:              logic token, tax level (tax_low, tax_normal, tax_high, tax_extortionate)
Sample use:              ModeTaxLevel > tax_high
Description:             Compare the mode tax level
Battle or Strat:         Either
Class:                   MODE_TAX_LEVEL
Implemented:             Yes
---------------------------------------------------
Identifier:              I_ModeTaxLevel
Trigger requirements:    
Parameters:              faction, logic token, tax level (tax_low, tax_normal, tax_high, tax_extortionate)
Sample use:              I_ModeTaxLevel romans_julii > tax_high
Description:             Compare the mode tax level
Battle or Strat:         Either
Class:                   I_MODE_TAX_LEVEL
Implemented:             Yes
---------------------------------------------------
Identifier:              MissionSuccessLevel
Trigger requirements:    mission_success_level
Parameters:              logic token, success level (not_successful, slightly_successful, partly_successful, highly_successful)
Sample use:              MissionSuccessLevel > slightly_successful
Description:             Was the mission sufficiently successful?
Battle or Strat:         Strat
Class:                   MISSION_SUCCESS_TYPE
Implemented:             Yes
---------------------------------------------------
Identifier:              MissionSucceeded
Trigger requirements:    
Parameters:              None (no not modifier either)
Sample use:              MissionSucceeded
Description:             Was the mission sufficiently successful?
Battle or Strat:         Strat
Class:                   MISSION_SUCCEEDED
Implemented:             Yes
---------------------------------------------------
Identifier:              MissionFactionTargetType
Trigger requirements:    faction
Parameters:              faction type
Sample use:              MissionFactionTargetType romans_julii
Description:             Is the faction of a particular type?
Battle or Strat:         Either
Class:                   MISSION_FACTION_TARGET_TYPE
Implemented:             Yes
---------------------------------------------------
Identifier:              MissionCultureTargetType
Trigger requirements:    faction, character_record
Parameters:              culture type (roman, barbarian, carthaginian, greek, egyptian, eastern)
Sample use:              MissionCultureTargetType own, MissionCultureTargetType greek
Description:             Is the faction of a particular type?
Battle or Strat:         Either
Class:                   MISSION_CULTURE_TARGET_TYPE
Implemented:             Yes
---------------------------------------------------
Identifier:              DiplomaticStanceFromCharacter
Trigger requirements:    character_record
Parameters:              faction type, logic token, stance (Allied, Suspicious, Neutral, Hostile, AtWar)
Sample use:              DiplomaticStanceFromCharacter romans_julii > Suspicious
Description:             Test the character's faction's diplomatic stance with another specified faction
Battle or Strat:         Either
Class:                   DIPLOMATIC_STANCE_FROM_CHARACTER
Implemented:             Yes
---------------------------------------------------
Identifier:              DiplomaticStanceFromFaction
Trigger requirements:    faction
Parameters:              faction type, logic token, stance (Allied, Suspicious, Neutral, Hostile, AtWar)
Sample use:              DiplomaticStanceFromFaction romans_julii > Suspicious
Description:             Test the character's faction's diplomatic stance with another specified faction
Battle or Strat:         Either
Class:                   DIPLOMATIC_STANCE_FROM_FACTION
Implemented:             Yes
---------------------------------------------------
Identifier:              FactionHasAllies
Trigger requirements:    faction
Parameters:              
Sample use:              FactionHasAllies
Description:             Test whether the faction is allied with any other faction
Battle or Strat:         Either
Class:                   FACTION_HAS_ALLIES
Implemented:             Yes
---------------------------------------------------
Identifier:              LosingMoney
Trigger requirements:    
Parameters:              None
Sample use:              LosingMoney
Description:             Is the faction losing money on the end of year balance sheet?
Battle or Strat:         Strat
Class:                   LOSING_MONEY
Implemented:             Yes
---------------------------------------------------
Identifier:              I_LosingMoney
Trigger requirements:    
Parameters:              None
Sample use:              I_LosingMoney romans_julii
Description:             Is the faction losing money on the end of year balance sheet?
Battle or Strat:         Strat
Class:                   I_LOSING_MONEY
Implemented:             Yes
---------------------------------------------------
Identifier:              FactionIsAlive
Trigger requirements:    none
Parameters:              faction name
Sample use:              FactionIsAlive romans_julii
Description:             Checks if the given faction is alive (as opposed to waiting to emerge or defeated)
Battle or Strat:         Strat
Class:                   FACTION_IS_ALIVE
Implemented:             Yes
---------------------------------------------------
Identifier:              SupportCostsPercentage
Trigger requirements:    faction
Parameters:              logic token, percentage
Sample use:              SupportCostsPercentage > 35.8
Description:             Does the percentage of expenditure devoted to support costs exceed the threshold?
Battle or Strat:         Strat
Class:                   SUPPORT_COSTS_PERCENTAGE
Implemented:             Yes
---------------------------------------------------
Identifier:              Treasury
Trigger requirements:    faction
Parameters:              logic token, quantity
Sample use:              Treasury > 2000
Description:             Does the cash-in-hand exceed the threshold?
Battle or Strat:         Strat
Class:                   TREASURY
Implemented:             Yes
---------------------------------------------------
Identifier:              OnAWarFooting
Trigger requirements:    faction
Parameters:              None
Sample use:              OnAWarFooting
Description:             Is the faction on a war footing?
Battle or Strat:         Strat
Class:                   ON_A_WAR_FOOTING
Implemented:             Yes
---------------------------------------------------
Identifier:              I_FactionBesieging
Trigger requirements:    
Parameters:              faction type
Sample use:              not I_FactionBesieging romans_julii
Description:             Is the faction besieging a settlement somewhere?
Battle or Strat:         Strat
Class:                   FACTION_BESIEGING
Implemented:             Yes
---------------------------------------------------
Identifier:              I_FactionBesieged
Trigger requirements:    
Parameters:              faction type
Sample use:              not I_FactionBesieged romans_julii
Description:             Is the faction besieged at any settlement?
Battle or Strat:         Strat
Class:                   FACTION_BESIEGED
Implemented:             Yes
---------------------------------------------------
Identifier:              I_NumberOfSettlements
Trigger requirements:    
Parameters:              number of settlements
Sample use:              I_NumberOfSettlements thrace > 3
Description:             How many settlements does the faction hold?
Battle or Strat:         Strat
Class:                   I_NUMBER_OF_SETTLEMENTS
Implemented:             Yes
---------------------------------------------------
Identifier:              I_NumberOfHeirs
Trigger requirements:    
Parameters:              number of heirs
Sample use:              I_NumberOfHeirs thrace > 3
Description:             How many heirs does the faction leader have?
Battle or Strat:         Strat
Class:                   I_NUMBER_OF_HEIRS
Implemented:             Yes
---------------------------------------------------
Identifier:              I_FactionNearTile
Trigger requirements:    
Parameters:              faction, distance in squares, x, z
Sample use:              I_FactionNearTile romans_julii 10 48,30
Description:             Is a member of a faction near a particular tile?
Battle or Strat:         Strat
Class:                   I_FACTION_NEAR_TILE
Implemented:             Yes
---------------------------------------------------
Identifier:              SettlementsTaken
Trigger requirements:    faction
Parameters:              logic token, quantity
Sample use:              SettlementsTaken = 6
Description:             How many settlements has the player captured so far during this campaign?
Battle or Strat:         Either
Class:                   SETTLEMENTS_TAKEN
Implemented:             Yes
---------------------------------------------------
Identifier:              BattlesFought
Trigger requirements:    faction
Parameters:              logic token, quantity
Sample use:              BattlesFought = 6
Description:             How many battles has the player fought so far during this campaign?
Battle or Strat:         Either
Class:                   BATTLES_FOUGHT
Implemented:             Yes
---------------------------------------------------
Identifier:              BattlesWon
Trigger requirements:    faction
Parameters:              logic token, quantity
Sample use:              BattlesWon = 6
Description:             How many battles has the player won so far during this campaign?
Battle or Strat:         Either
Class:                   BATTLES_WON
Implemented:             Yes
---------------------------------------------------
Identifier:              BattlesLost
Trigger requirements:    faction
Parameters:              logic token, quantity
Sample use:              BattlesLost = 6
Description:             How many battles has the player won so far during this campaign?
Battle or Strat:         Either
Class:                   BATTLES_LOST
Implemented:             Yes
---------------------------------------------------
Identifier:              DefensiveSiegesFought
Trigger requirements:    faction
Parameters:              logic token, quantity
Sample use:              DefensiveSiegesFought = 6
Description:             How many defensive sieges has the player fought so far during this campaign?
Battle or Strat:         Either
Class:                   DEFENSIVE_SIEGES_FOUGHT
Implemented:             Yes
---------------------------------------------------
Identifier:              DefensiveSiegesWon
Trigger requirements:    faction
Parameters:              logic token, quantity
Sample use:              DefensiveSiegesWon = 6
Description:             How many defensive sieges has the player won so far during this campaign?
Battle or Strat:         Either
Class:                   DEFENSIVE_SIEGES_WON
Implemented:             Yes
---------------------------------------------------
Identifier:              OffensiveSiegesFought
Trigger requirements:    faction
Parameters:              logic token, quantity
Sample use:              OffensiveSiegesFought = 6
Description:             How many offensive sieges has the player fought so far during this campaign?
Battle or Strat:         Either
Class:                   OFFENSIVE_SIEGES_FOUGHT
Implemented:             Yes
---------------------------------------------------
Identifier:              OffensiveSiegesWon
Trigger requirements:    faction
Parameters:              logic token, quantity
Sample use:              OffensiveSiegesWon = 6
Description:             How many offensive sieges has the player won so far during this campaign?
Battle or Strat:         Either
Class:                   OFFENSIVE_SIEGES_WON
Implemented:             Yes
---------------------------------------------------
Identifier:              FactionwideAncillaryExists
Trigger requirements:    character_record
Parameters:              logic token
Sample use:              FactionwideAncillaryExists actor true
Description:             Does this ancillary already exist in this faction?
Battle or Strat:         Strat
Class:                   FACTIONWIDE_ANCILLARY_EXISTS
Implemented:             Yes
---------------------------------------------------
Identifier:              IsAlly
Trigger requirements:    faction
Parameters:              other faction type
Sample use:              IsAlly romans_julii
Description:             is this faction allied to the other
Battle or Strat:         Strat
Class:                   FACTION_IS_ALLY
Implemented:             Yes
---------------------------------------------------
Identifier:              IsProtectorate
Trigger requirements:    faction
Parameters:              other faction type
Sample use:              IsProtectorate romans_julii
Description:             is this faction a protectorate of ours?
Battle or Strat:         Strat
Class:                   FACTION_IS_PROTECTORATE
Implemented:             Yes
---------------------------------------------------
Identifier:              IsProtector
Trigger requirements:    faction
Parameters:              other faction type
Sample use:              IsProtector romans_julii
Description:             is this faction our protector?
Battle or Strat:         Strat
Class:                   FACTION_IS_PROTECTOR
Implemented:             Yes
---------------------------------------------------
Identifier:              IsSameSuperfaction
Trigger requirements:    faction
Parameters:              other faction type
Sample use:              IsSameSuperfaction romans_julii
Description:             is this faction in the same superfaction as us? Returns false against former members of our superfaction that were outlawed
Battle or Strat:         Strat
Class:                   FACTION_IS_SAME_SUPERFACTION
Implemented:             Yes
---------------------------------------------------
Identifier:              LocalPlayerBattlesFought
Trigger requirements:    
Parameters:              logic token, quantity
Sample use:              LocalPlayerBattlesFought = 6
Description:             How many battles has the player fought so far during this campaign?
Battle or Strat:         Either
Class:                   LOCAL_PLAYER_BATTLES_FOUGHT
Implemented:             Yes
---------------------------------------------------
Identifier:              Toggled
Trigger requirements:    
Parameters:              toggle name
Sample use:              Toggled 'gradual trait loss'
Description:             Is the remaster toggle for this enabled?
Battle or Strat:         Either
Class:                   TOGGLE_ENABLED
Implemented:             Yes
---------------------------------------------------
Identifier:              MajorEventActive
Trigger requirements:    
Parameters:              "major event name", faction type (optional, checks local/first faction by default)
Sample use:              MajorEventActive "currency_crisis", empire_west
Description:             Is this event active for the given faction
Battle or Strat:         Either
Class:                   MAJOR_EVENT_ACTIVE
Implemented:             Yes
---------------------------------------------------
Identifier:              RandomPercent
Trigger requirements:    
Parameters:              logic token, percentage (integer)
Sample use:              RandomPercent > 50
Description:             Pick a number from 0 to 100 at random
Battle or Strat:         Either
Class:                   RANDOM_PERCENT
Implemented:             Yes
---------------------------------------------------
Identifier:              TrueCondition
Trigger requirements:    
Parameters:              
Sample use:              not TrueCondition
Description:             When you need to supply a true/false, for debugging and monitor_event
Battle or Strat:         Either
Class:                   TRUE_CONDITION
Implemented:             Yes
---------------------------------------------------
Identifier:              WorldwideAncillaryExists
Trigger requirements:    character_record
Parameters:              logic token
Sample use:              WorldwideAncillaryExists actor true
Description:             Does this ancillary already exist in the world?
Battle or Strat:         Strat
Class:                   WORLDWIDE_ANCILLARY_EXISTS
Implemented:             Yes
---------------------------------------------------
Identifier:              I_IsTutorialEnabled
Trigger requirements:    
Parameters:              
Sample use:              I_IsTutorialEnabled
Description:             Check if a tutorial is enabled
Battle or Strat:         Both
Class:                   IS_TUTORIAL_ENABLED
Implemented:             Yes
---------------------------------------------------
Identifier:              I_IsPlayerTurn
Trigger requirements:    
Parameters:              
Sample use:              I_IsPlayerTurn
Description:             Check to see if the current turn is for player
Battle or Strat:         Both
Class:                   IS_PLAYER_TURN
Implemented:             Yes
---------------------------------------------------
Identifier:              ConstructionItemClicked
Trigger requirements:    resource_description
Parameters:              id
Sample use:              ConstructionItemClicked stables
Description:             Check for a given construction item
Battle or Strat:         Strat
Class:                   CONSTRUCTION_ITEM_CLICKED
Implemented:             Yes
---------------------------------------------------
Identifier:              RecruitmentItemClicked
Trigger requirements:    resource_description
Parameters:              id
Sample use:              RecruitmentItemClicked roman peasant
Description:             Check for a given recruitment item
Battle or Strat:         Strat
Class:                   RECRUITMENT_ITEM_CLICKED
Implemented:             Yes
---------------------------------------------------
Identifier:              CharacterName
Trigger requirements:    character_record
Parameters:              Character Name
Sample use:              CharacterName Flavious Fella
Description:             Checks for a given characters name
Battle or Strat:         Strat
Class:                   CHARACTER_NAME
Implemented:             Yes
---------------------------------------------------
Identifier:              ScrollDidOpen
Trigger requirements:    resource_description
Parameters:              Scroll Name
Sample use:              
Description:             Checks when scroll is open
Battle or Strat:         Both
Class:                   SCROLL_DID_OPEN
Implemented:             Yes
---------------------------------------------------
Identifier:              UnitHasRouted
Trigger requirements:    resource_description
Parameters:              Unit Name
Sample use:              
Description:             Checks when a unit has routed
Battle or Strat:         Battle
Class:                   UNIT_HAS_ROUTED
Implemented:             Yes
---------------------------------------------------
Identifier:              BattleUnitActionStatus
Trigger requirements:    resource_description
Parameters:              Unit Name, Unit Status to detect
Sample use:              BattleUnitActionStatus player_general, routing
Description:             Checks when a unit changes status
Battle or Strat:         Battle
Class:                   BATTLE_UNIT_ACTION_STATUS
Implemented:             Yes
---------------------------------------------------
Identifier:              I_AmountOfUnitInSettlement
Trigger requirements:    
Parameters:              Settlement_name, Amount_of_unit_wanted, Unit_name
Sample use:              I_AmountOfUnitInSettlement Arretium 2 roman triarii
Description:             Check how many of a unit is in a settlement.
Battle or Strat:         Strat
Class:                   AMOUNT_OF_UNIT_IN_SETTLEMENT
Implemented:             Yes
---------------------------------------------------
Identifier:              I_UnitCardSelected
Trigger requirements:    
Parameters:              unit name, amount of unit to select
Sample use:              I_UnitCardSelected roman city militia, 1, roman hastati, 3
Description:             Detect whether the unit card is currently selected
Battle or Strat:         Strat
Class:                   UNIT_CARD_SELECTED
Implemented:             Yes
---------------------------------------------------
Identifier:              I_CompareCounter
Trigger requirements:    
Parameters:              script counter, value
Sample use:              I_CompareCounter blib < 17
Description:             Compare a script counter to a value
Battle or Strat:         Either
Class:                   COMPARE_COUNTER
Implemented:             Yes
---------------------------------------------------
Identifier:              TestFaction
Trigger requirements:    
Parameters:              faction name
Sample use:              TestFaction romans_julii
Description:             Test is a given faction is being used by the player
Battle or Strat:         Either
Class:                   COMPARE_FACTION
Implemented:             Yes
---------------------------------------------------
Identifier:              LangIs
Trigger requirements:    
Parameters:              language ID (EN, DE, FR, ES, IT, RU, zh_CN)
Sample use:              LangIs cn_cz
Description:             Test the language
Battle or Strat:         Either
Class:                   CHECK_LANG
Implemented:             Yes
---------------------------------------------------
Identifier:              I_TimerElapsed
Trigger requirements:    
Parameters:              logic token, timer_id, duration (milliseconds)
Sample use:              I_TimerElapsed rout_timer > 1000
Description:             How long has it been since the script timer restarted
Battle or Strat:         Either
Class:                   SCRIPT_TIMER_ELAPSED
Implemented:             Yes
---------------------------------------------------
Identifier:              I_SoundPlaying
Trigger requirements:    
Parameters:              <sound event tag>
Sample use:              I_SoundPlaying snd_IntroSpeech
Description:             Detect whether the tagged sound is playing or not
Battle or Strat:         Both
Class:                   SOUND_EVENT_PLAYING
Implemented:             Yes
---------------------------------------------------
Identifier:              HasResource
Trigger requirements:    settlement
Parameters:              resource name (includes hidden resources)
Sample use:              HasResource sparta
Description:             For scripting - does the region have this resource
Battle or Strat:         Either
Class:                   HAS_RESOURCE
Implemented:             Yes
---------------------------------------------------
Identifier:              SettlementRevoltingFrom
Trigger requirements:    settlement
Parameters:              faction name or tag
Sample use:              SettlementRevoltingFrom roman_empire
Description:             Only useful in revolt faction spawning scripts - says who the faction that we are in the process of revolting from is
Battle or Strat:         Either
Class:                   REVOLTING_FROM
Implemented:             Yes
---------------------------------------------------
Identifier:              IsCapital
Trigger requirements:    settlement
Parameters:              none
Sample use:              IsCapital
Description:             Checks if this settlement is a capital
Battle or Strat:         Either
Class:                   IS_CAPITAL
Implemented:             Yes
---------------------------------------------------
Identifier:              SettlementName
Trigger requirements:    settlement
Parameters:              settlement name
Sample use:              SettlementName Tarquinii
Description:             For scripting - does the settlement have this name
Battle or Strat:         Either
Class:                   SETTLEMENT_NAME
Implemented:             Yes
---------------------------------------------------
Identifier:              GovernorBuildingExists
Trigger requirements:    character_record
Parameters:              building description, logic token, test level
Sample use:              GovernorBuildingExists = governors_house
Description:             Test to see if the character is a governor and his settlement has a building at a particular level
Battle or Strat:         Strat
Class:                   GOVERNORS_BUILDING_LEVEL_EXISTS_TEST
Implemented:             Yes
---------------------------------------------------
Identifier:              SettlementBuildingExists
Trigger requirements:    settlement
Parameters:              building description, logic token, test level
Sample use:              SettlementBuildingExists = governors_house
Description:             Test to see if the settlement has a building at a particular level
Battle or Strat:         Strat
Class:                   SETTLEMENT_BUILDING_LEVEL_EXISTS_TEST
Implemented:             Yes
---------------------------------------------------
Identifier:              HomeSettlementBuildingExists
Trigger requirements:    character
Parameters:              building description, logic token, test level
Sample use:              HomeSettlementBuildingExists = governors_house
Description:             Test to see if the home settlement of the triggering character has a building at a particular level
Battle or Strat:         Strat
Class:                   HOME_SETTLEMENT_BUILDING_LEVEL_EXISTS_TEST
Implemented:             Yes
---------------------------------------------------
Identifier:              SettlementOrderLevel
Trigger requirements:    settlement
Parameters:              settlement_order_type_strings (garrison, law, fun, influence, tax_bonus, triumph, wonder, boom, squalour, distance_to_capital, culture_penalty, no_governance, tax_penalty, turmoil, underpopulation, besieged, blockaded, recession, entertained, health, governor_religion_unrest, leader_religion_unrest), logic token, test level
Sample use:              SettlementOrderLevel law > 0
Description:             Test to see if the settlements order factor is at a particular level
Battle or Strat:         Strat
Class:                   SETTLEMENT_ORDER_LEVEL
Implemented:             Yes
---------------------------------------------------
Identifier:              SettlementCapabilityLevel
Trigger requirements:    settlement
Parameters:              capability_type_strings (population_growth_bonus, population_loyalty_bonus, population_health_bonus, trade_base_income_bonus, trade_level_bonus, trade_fleet, taxable_income_bonus, mine_resource, farming_level, road_level, gate_strength, gate_defences, wall_level, tower_level, armour, stage_games, stage_races, fire_risk, weapon_simple, weapon_missile, weapon_bladed, weapon_siege, weapon_other, upgrade_bodyguard, recruits_morale_bonus, recruits_exp_bonus, happiness_bonus, law_bonus, construction_cost_bonus_military, construction_cost_bonus_religious, construction_cost_bonus_defensive, construction_cost_bonus_other, construction_time_bonus_military, construction_time_bonus_religious, construction_time_bonus_defensive, construction_time_bonus_other), logic token, test level
Sample use:              SettlementCapabilityLevel law_bonus > 0
Description:             Test to see if the settlement has a capability at a particular level
Battle or Strat:         Strat
Class:                   SETTLEMENT_CAPABILITY_LEVEL
Implemented:             Yes
---------------------------------------------------
Identifier:              BuildingFinishedByGovernor
Trigger requirements:    character_record, prior_build
Parameters:              building description, logic token, test level
Sample use:              BuildingFinishedByGovernor = governors_house
Description:             Test to see if the character is a governor and what the last finished building was
Battle or Strat:         Strat
Class:                   GOVERNORS_BUILDING_LEVEL_FINISHED_TEST
Implemented:             Yes
---------------------------------------------------
Identifier:              SettlementBuildingFinished
Trigger requirements:    prior_build
Parameters:              building description, logic token, test level
Sample use:              SettlementBuildingFinished = governors_house
Description:             Test to see what the last finished building was
Battle or Strat:         Strat
Class:                   SETTLEMENT_BUILDING_LEVEL_FINISHED_TEST
Implemented:             Yes
---------------------------------------------------
Identifier:              GovernorPlugInExists
Trigger requirements:    character_record
Parameters:              logic token, plug-in
Sample use:              GovernorPlugInExists > storage_pits
Description:             Test to see if the character is a governor and his settlement has a plug-in at a particular level
Battle or Strat:         Strat
Class:                   GOVERNORS_PLUG_IN_LEVEL_EXISTS_TEST
Implemented:             Yes
---------------------------------------------------
Identifier:              GovernorPlugInFinished
Trigger requirements:    character_record, prior_build
Parameters:              logic token, plug-in
Sample use:              GovernorPlugInFinished > storage_pits
Description:             Test to see if the character is a governor and what the last finished plug-in was
Battle or Strat:         Strat
Class:                   GOVERNORS_PLUG_IN_LEVEL_FINISHED_TEST
Implemented:             Yes
---------------------------------------------------
Identifier:              GovernorTaxLevel
Trigger requirements:    character_record
Parameters:              logic token, tax level (tax_low, tax_normal, tax_high, tax_extortionate)
Sample use:              GovernorTaxLevel > tax_high
Description:             Is the character a governor who is taxing the populace at a particular level?
Battle or Strat:         Either
Class:                   GOVERNOR_TAX_LEVEL
Implemented:             Yes
---------------------------------------------------
Identifier:              SettlementTaxLevel
Trigger requirements:    settlement
Parameters:              logic token, tax level (tax_low, tax_normal, tax_high, tax_extortionate)
Sample use:              SettlementTaxLevel > tax_high
Description:             Is the settlement taxing the populace at a particular level?
Battle or Strat:         Either
Class:                   SETTLEMENT_TAX_LEVEL
Implemented:             Yes
---------------------------------------------------
Identifier:              GovernorInResidence
Trigger requirements:    settlement
Parameters:              None
Sample use:              GovernorInResidence
Description:             Does the settlement lack a governor?
Battle or Strat:         Strat
Class:                   GOVERNOR_IN_RESIDENCE
Implemented:             Yes
---------------------------------------------------
Identifier:              GovernorLoyaltyLevel
Trigger requirements:    character_record
Parameters:              logic token, value (loyalty_revolting, loyalty_rioting, loyalty_disillusioned, loyalty_content, loyalty_happy)
Sample use:              GovernorLoyaltyLevel > loyalty_rioting
Description:             Is the character a governor and, if so how loyal is the settlement to him?
Battle or Strat:         Either
Class:                   GOVERNOR_LOYALTY_LEVEL
Implemented:             Yes
---------------------------------------------------
Identifier:              SettlementLoyaltyLevel
Trigger requirements:    settlement
Parameters:              logic token, value (loyalty_revolting, loyalty_rioting, loyalty_disillusioned, loyalty_content, loyalty_happy)
Sample use:              SettlementLoyaltyLevel > loyalty_rioting
Description:             How loyal is the settlement?
Battle or Strat:         Either
Class:                   SETTLEMENT_LOYALTY_LEVEL
Implemented:             Yes
---------------------------------------------------
Identifier:              RiotRisk
Trigger requirements:    settlement
Parameters:              logic token, percentage (integral, < 40 since there is never more than a 40% chance of rioting)
Sample use:              RiotRisk > 30
Description:             What is the chance of this settlement rioting?
Battle or Strat:         Either
Class:                   RIOT_RISK
Implemented:             Yes
---------------------------------------------------
Identifier:              BuildingQueueIdleDespiteCash
Trigger requirements:    settlement
Parameters:              None
Sample use:              BuildingQueueIdleDespiteCash
Description:             Is the faction exploiting its build capability to the full?
Battle or Strat:         Either
Class:                   BUILDING_QUEUE_IDLE_DESPITE_CASH
Implemented:             Yes
---------------------------------------------------
Identifier:              TrainingQueueIdleDespiteCash
Trigger requirements:    settlement
Parameters:              None
Sample use:              TrainingQueueIdleDespiteCash
Description:             Is the faction exploiting its recruitment capability to the full?
Battle or Strat:         Either
Class:                   TRAINING_QUEUE_IDLE_DESPITE_CASH
Implemented:             Yes
---------------------------------------------------
Identifier:              I_SettlementExists
Trigger requirements:    
Parameters:              settlement name
Sample use:              I_SettlementExists Segesta
Description:             Does a settlement by this name exist?
Battle or Strat:         Strat
Class:                   SETTLEMENT_EXISTS
Implemented:             Yes
---------------------------------------------------
Identifier:              I_SettlementOwner
Trigger requirements:    
Parameters:              settlement name, logic token, faction type
Sample use:              I_SettlementOwner Segesta = romans_julii
Description:             Is this settlement owned by this faction?
Battle or Strat:         Strat
Class:                   SETTLEMENT_OWNER
Implemented:             Yes
---------------------------------------------------
Identifier:              I_SettlementOwnerCulture
Trigger requirements:    settlement if name == local
Parameters:              settlement name, logic token, culture type
Sample use:              I_SettlementOwnerCulture local = eastern
Description:             Is this settlement owned by this faction with this culture?
Battle or Strat:         Strat
Class:                   SETTLEMENT_OWNER_CULTURE
Implemented:             Yes
---------------------------------------------------
Identifier:              I_SettlementLevel
Trigger requirements:    settlement if name == local
Parameters:              settlement name, logic token, settlement level
Sample use:              I_SettlementLevel local == huge_city
Description:             Is this settlement at this level?
Battle or Strat:         Strat
Class:                   SETTLEMENT_LEVEL_IS
Implemented:             Yes
---------------------------------------------------
Identifier:              AdviseFinancialBuild
Trigger requirements:    best_finance_option
Parameters:              build type (farms, mines, tax, trade)
Sample use:              AdviseFinancialBuild = mines
Description:             Is this the best thing to build to increase financial production?
Battle or Strat:         Strat
Class:                   ADVISE_FINANCIAL_BUILD
Implemented:             Yes
---------------------------------------------------
Identifier:              AdviseBuild
Trigger requirements:    advised_build
Parameters:              build type (from tech tree) - use No_building for none available
Sample use:              AdviseBuild = mines, AdviseBuild = No_building
Description:             Is this the best thing to build?
Battle or Strat:         Strat
Class:                   ADVISE_BUILD
Implemented:             Yes
---------------------------------------------------
Identifier:              AdviseRecruit
Trigger requirements:    
Parameters:              unit type (from unit database) - use No_unit for none available
Sample use:              AdviseRecruit = triarii, AdviseRecruit = No_unit
Description:             Is this the best thing to recruit?
Battle or Strat:         Strat
Class:                   ADVISE_RECRUIT
Implemented:             Yes
---------------------------------------------------
Identifier:              SettlementPopulationMaxedOut
Trigger requirements:    settlement
Parameters:              
Sample use:              SettlementPopulationMaxedOut
Description:             Is the settlement full for its level? (Actually, >95%)
Battle or Strat:         Strat
Class:                   SETTLEMENT_POPULATION_MAXED_OUT
Implemented:             Yes
---------------------------------------------------
Identifier:              SettlementPopulationTooLow
Trigger requirements:    settlement
Parameters:              
Sample use:              SettlementPopulationTooLow
Description:             Is the settlement too empty to recruit from?
Battle or Strat:         Strat
Class:                   SETTLEMENT_POPULATION_TOO_LOW
Implemented:             Yes
---------------------------------------------------
Identifier:              SettlementAutoManaged
Trigger requirements:    settlement
Parameters:              Automanagement type (Troops, Buildings, Mechanics)
Sample use:              not SettlementAutoManaged Troops
Description:             Is the settlement auto managed in a particular way?
Battle or Strat:         Strat
Class:                   SETTLEMENT_AUTO_MANAGED
Implemented:             Yes
---------------------------------------------------
Identifier:              FeralSettlementAutoManaged
Trigger requirements:    settlement
Parameters:              Automanagement type (Troops, Buildings, Mechanics)
Sample use:              not SettlementAutoManaged Troops
Description:             Is the settlement auto managed in a particular way?
Battle or Strat:         Strat
Class:                   FERAL_SETTLEMENT_AUTO_MANAGED
Implemented:             Yes
---------------------------------------------------
Identifier:              PercentageOfPopulationInGarrison
Trigger requirements:    settlement
Parameters:              
Sample use:              PercentageOfPopulationInGarrison > 35
Description:             Check the percentage of population that is currently in the garrison
Battle or Strat:         Strat
Class:                   PERCENTAGE_OF_POPULATION_IN_GARRISON
Implemented:             Yes
---------------------------------------------------
Identifier:              GarrisonToPopulationRatio
Trigger requirements:    settlement
Parameters:              
Sample use:              GarrisonSettlementRatio > 0.35
Description:             Calculate the ratio of soldiers to civilians
Battle or Strat:         Strat
Class:                   GARRISON_TO_POPULATION_RATIO
Implemented:             Yes
---------------------------------------------------
Identifier:              HealthPercentage
Trigger requirements:    settlement
Parameters:              
Sample use:              HealthPercentage > 35
Description:             Check the health of the settlement
Battle or Strat:         Strat
Class:                   HEALTH_PERCENTAGE
Implemented:             Yes
---------------------------------------------------
Identifier:              SettlementHasPlague
Trigger requirements:    settlement
Parameters:              
Sample use:              SettlementHasPlague
Description:             Is the settlement plague-ridden?
Battle or Strat:         Strat
Class:                   SETTLEMENT_HAS_PLAGUE
Implemented:             Yes
---------------------------------------------------
Identifier:              IsFortGarrisoned
Trigger requirements:    fort
Parameters:              
Sample use:              IsFortGarrisoned
Description:             Are there any troops in the fort?
Battle or Strat:         Strat
Class:                   IS_FORT_GARRISONED
Implemented:             Yes
---------------------------------------------------
Identifier:              IsSettlementGarrisoned
Trigger requirements:    settlement
Parameters:              
Sample use:              IsSettlementGarrisoned
Description:             Are there any troops in the settlement?
Battle or Strat:         Strat
Class:                   IS_SETTLEMENT_GARRISONED
Implemented:             Yes
---------------------------------------------------
Identifier:              IsSettlementRioting
Trigger requirements:    settlement
Parameters:              
Sample use:              IsSettlementRioting
Description:             Is the settlement rioting at the moment?
Battle or Strat:         Strat
Class:                   IS_SETTLEMENT_RIOTING
Implemented:             Yes
---------------------------------------------------
Identifier:              I_NumberUnitsInSettlement
Trigger requirements:    
Parameters:              settlement, unit type (UNIT_DESCRIPTION.id), logic token, quantity
Sample use:              I_NumberUnitsInSettlement Tarquinii roman_city_militia < 5
Description:             How many units are in the settlement?
Battle or Strat:         Strat
Class:                   NUMBER_UNITS_IN_SETTLEMENT
Implemented:             Yes
---------------------------------------------------
Identifier:              I_AdvisorSpeechPlaying
Trigger requirements:    
Parameters:              
Sample use:              I_AdvisorSpeechPlaying
Description:             Detect whether advisor speech is playing or not
Battle or Strat:         Both
Class:                   ADVISOR_SPEECH_PLAYING
Implemented:             Yes
---------------------------------------------------
Identifier:              CharacterIsLocal
Trigger requirements:    character_record
Parameters:              None
Sample use:              CharacterIsLocal
Description:             Is the character a member of the local faction?
Battle or Strat:         Either
Class:                   CHARACTER_IS_LOCAL
Implemented:             Yes
---------------------------------------------------
Identifier:              TargetCharacterIsLocal
Trigger requirements:    target_character_record
Parameters:              None
Sample use:              TargetCharacterIsLocal
Description:             Is the target character a member of the local faction?
Battle or Strat:         Either
Class:                   TARGET_CHARACTER_IS_LOCAL
Implemented:             Yes
---------------------------------------------------
Identifier:              SettlementIsLocal
Trigger requirements:    settlement
Parameters:              None
Sample use:              SettlementIsLocal
Description:             Does the settlement belong to the local faction?
Battle or Strat:         Either
Class:                   SETTLEMENT_IS_LOCAL
Implemented:             Yes
---------------------------------------------------
Identifier:              TargetSettlementIsLocal
Trigger requirements:    settlement
Parameters:              None
Sample use:              TargetSettlementIsLocal
Description:             Does the target settlement belong to the local faction?
Battle or Strat:         Either
Class:                   TARGET_SETTLEMENT_IS_LOCAL
Implemented:             Yes
---------------------------------------------------
Identifier:              RegionIsLocal
Trigger requirements:    region_id
Parameters:              None
Sample use:              RegionIsLocal
Description:             Does the region belong to the local faction?
Battle or Strat:         Either
Class:                   REGION_IS_LOCAL
Implemented:             Yes
---------------------------------------------------
Identifier:              TargetRegionIsLocal
Trigger requirements:    region_id
Parameters:              None
Sample use:              TargetRegionIsLocal
Description:             Does the target region belong to the local faction?
Battle or Strat:         Either
Class:                   TARGET_REGION_IS_LOCAL
Implemented:             Yes
---------------------------------------------------
Identifier:              ArmyIsLocal
Trigger requirements:    army
Parameters:              None
Sample use:              ArmyIsLocal
Description:             Does the army belong to the local faction?
Battle or Strat:         Either
Class:                   ARMY_IS_LOCAL
Implemented:             Yes
---------------------------------------------------
Identifier:              ArmyIsGarrison
Trigger requirements:    army
Parameters:              None
Sample use:              ArmyIsGarrison
Description:             Is the army a garrison?
Battle or Strat:         Either
Class:                   ARMY_IS_GARRISON
Implemented:             Yes
---------------------------------------------------
Identifier:              TargetArmyIsLocal
Trigger requirements:    army
Parameters:              None
Sample use:              TargetArmyIsLocal
Description:             Does the target army belong to the local faction?
Battle or Strat:         Either
Class:                   TARGET_ARMY_IS_LOCAL
Implemented:             Yes
---------------------------------------------------
Identifier:              FactionIsLocal
Trigger requirements:    faction
Parameters:              None
Sample use:              FactionIsLocal
Description:             Is the faction the local faction?
Battle or Strat:         Either
Class:                   FACTION_IS_LOCAL
Implemented:             Yes
---------------------------------------------------
Identifier:              I_LocalFaction
Trigger requirements:    
Parameters:              faction
Sample use:              I_LocalFaction romans_julii
Description:             Is the faction the local faction?
Battle or Strat:         Either
Class:                   I_LOCAL_FACTION
Implemented:             Yes
---------------------------------------------------
Identifier:              TargetFactionIsLocal
Trigger requirements:    target_faction
Parameters:              None
Sample use:              TargetFactionIsLocal
Description:             Is the target faction the local faction?
Battle or Strat:         Either
Class:                   TARGET_FACTION_IS_LOCAL
Implemented:             Yes
---------------------------------------------------
Identifier:              I_TurnNumber
Trigger requirements:    
Parameters:              logic token, turn number
Sample use:              I_TurnNumber > 50
Description:             The current turn number (starts at 0)
Battle or Strat:         Either
Class:                   TURN_NUMBER
Implemented:             Yes
---------------------------------------------------
Identifier:              I_MapName
Trigger requirements:    
Parameters:              map file name
Sample use:              not I_MapName world\maps\campaign\sons_of_mars\descr_strat.txt
Description:             The qualified file name of the current map relative to the data directory
Battle or Strat:         Either
Class:                   MAP_NAME
Implemented:             Yes
---------------------------------------------------
Identifier:              I_ThreadCount
Trigger requirements:    
Parameters:              advice thread, logic token, value
Sample use:              I_ThreadCount City_Riots_Reduce_Taxes_Thread > 5
Description:             Has this advice thread been incremented many times?
Battle or Strat:         Strat
Class:                   THREAD_COUNT
Implemented:             Yes
---------------------------------------------------
Identifier:              I_IsTriggerTrue
Trigger requirements:    
Parameters:              trigger name
Sample use:              I_IsTriggerTrue sample_trigger_name
Description:             Has this advice thread been incremented many times?
Battle or Strat:         Strat
Class:                   TRIGGER_TRUE
Implemented:             Yes
---------------------------------------------------
Identifier:              IncomingMessageType
Trigger requirements:    event
Parameters:              message identifier
Sample use:              IncomingMessageType senate_mission_issued
Description:             Has this message just been received
Battle or Strat:         Strat
Class:                   INCOMING_MESSAGE
Implemented:             Yes
---------------------------------------------------
Identifier:              I_AdvisorVerbosity
Trigger requirements:    
Parameters:              logic token, advisor verbosity
Sample use:              I_AdvisorVerbosity > 2
Description:             The advisor verbosity
Battle or Strat:         Either
Class:                   ADVISOR_VERBOSITY
Implemented:             Yes
---------------------------------------------------
Identifier:              I_AdvisorVisible
Trigger requirements:    
Parameters:              
Sample use:              not I_AdvisorVisible
Description:             Is the advisor currently visible?
Battle or Strat:         Either
Class:                   ADVISOR_VISIBLE
Implemented:             Yes
---------------------------------------------------
Identifier:              I_CharacterSelected
Trigger requirements:    
Parameters:              character name
Sample use:              I_CharacterSelected Gaius Julius
Description:             Detect whether the character is currently selected
Battle or Strat:         Strat
Class:                   CHARACTER_SELECTED
Implemented:             Yes
---------------------------------------------------
Identifier:              I_AgentSelected
Trigger requirements:    
Parameters:              character type (spy, assassin, diplomat, admiral, general, named character, family)
Sample use:              I_AgentSelected spy
Description:             Detect whether a character of the specified type is currently selected
Battle or Strat:         Strat
Class:                   AGENT_SELECTED
Implemented:             Yes
---------------------------------------------------
Identifier:              I_SettlementSelected
Trigger requirements:    
Parameters:              settlement name
Sample use:              I_SettlementSelected Roma
Description:             Detect whether the settlement is currently selected
Battle or Strat:         Strat
Class:                   SETTLEMENT_SELECTED
Implemented:             Yes
---------------------------------------------------
Identifier:              ShortcutTriggered
Trigger requirements:    resource_description
Parameters:              element id, function id (see data/descr_shortcuts.txt)
Sample use:              ShortcutTriggered camera step_l 
Description:             Detect whether a keyboard shortcut has been pressed
Battle or Strat:         Both
Class:                   SHORTCUT_TRIGGERED
Implemented:             Yes
---------------------------------------------------
Identifier:              I_AdvancedStatsScrollIsOpen
Trigger requirements:    
Parameters:              
Sample use:              I_AdvancedStatsScrollIsOpen
Description:             Detect whether the advanced stats scroll is open
Battle or Strat:         Strat
Class:                   I_ADVANCED_STATS_SCROLL_IS_OPEN
Implemented:             Yes
---------------------------------------------------
Identifier:              ButtonPressed
Trigger requirements:    resource_description
Parameters:              button id (see available_ui_elements.txt)
Sample use:              ButtonPressed character_info_zoom_to_button
Description:             Detect whether a button has been pressed
Battle or Strat:         Both
Class:                   BUTTON_PRESSED
Implemented:             Yes
---------------------------------------------------
Identifier:              ScrollOpened
Trigger requirements:    resource_description
Parameters:              scroll id (see available_ui_elements.txt)
Sample use:              ScrollOpened own_character_info_scroll
Description:             Test for when a named scroll is opened
Battle or Strat:         Both - Depends on scroll requested
Class:                   SCROLL_OPENED
Implemented:             Yes
---------------------------------------------------
Identifier:              ScrollClosed
Trigger requirements:    resource_description
Parameters:              scroll id (see available_ui_elements.txt)
Sample use:              ScrollClosed own_character_info_scroll
Description:             Test for when a named scroll is closed
Battle or Strat:         Both - Depends on scroll requested
Class:                   SCROLL_CLOSED
Implemented:             Yes
---------------------------------------------------
Identifier:              ScrollAdviceRequested
Trigger requirements:    resource_description
Parameters:              scroll id (see available_ui_elements.txt)
Sample use:              ScrollAdviceRequested own_character_info_scroll
Description:             Test for which scroll advice was requested on
Battle or Strat:         Both - Depends on scroll requested
Class:                   SCROLL_ADVICE_REQUESTED
Implemented:             Yes
---------------------------------------------------
Identifier:              I_AnnotationDisplayed
Trigger requirements:    
Parameters:              Annotation image name
Sample use:              I_AnnotationDisplayed set_general
Description:             Detect what annotation scroll is showing
Battle or Strat:         Yes
Class:                   FERAL_ANNOTATION_DISPLAYED
Implemented:             Yes
---------------------------------------------------
Identifier:              FeralUIType
Trigger requirements:    
Parameters:              UI Type
Sample use:              FeralUIType phone
Description:             Detect what UI we are using
Battle or Strat:         Yes
Class:                   FERAL_UI_TYPE
Implemented:             Yes
---------------------------------------------------
Identifier:              MerchantIsAvailableToBuild
Trigger requirements:    ET_BUILDING_COMPLETED
Parameters:              faction, building
Sample use:              MerchantIsAvailableToBuild
Description:             Building that was built, can recruit merchants
Battle or Strat:         Strat
Class:                   MERCHANT_IS_AVAILABLE_TO_BUILD
Implemented:             Yes
---------------------------------------------------
Identifier:              SettlementHasDamagedBuilding
Trigger requirements:    SETTLEMENT_EVENT_TRIGGER
Parameters:              settlement
Sample use:              SettlementHasDamagedBuilding
Description:             Settlement has at least one damaged building
Battle or Strat:         Strat
Class:                   SETTLEMENT_HAS_DAMAGED_BUILDING
Implemented:             Yes
---------------------------------------------------
Identifier:              LocalPlayerHasReinforcements
Trigger requirements:    ET_PRE_BATTLE_PANEL_OPEN
Parameters:              
Sample use:              LocalPlayerHasReinforcements
Description:             Player has at least one reinforcement army
Battle or Strat:         Strat
Class:                   LOCAL_PLAYER_HAS_REINFORCEMENTS
Implemented:             Yes
